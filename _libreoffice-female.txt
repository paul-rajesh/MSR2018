Please use consistent data type here. GetDocumentType() really returns DocumentType enum and you're passing it as a parameter to this method below. Sure, DocumentType is an enum that has only 2 possible values (Impress and Draw), so it looks like using bool will do the trick as well (and it compiles, after all). But I'm pretty certain that this code would trigger one of the compiler plugin warnings ...
This ^^^ ...
... is almost identical to this ^^^ I'd really prefer to have some boolean member variable in DocumentRenderer:Implementation (bUsesPrinterPageSize ?), or better yet, a method in PrintOptions class that would unite all those cases where printer-preferred page size should take precedence over document/system-defined page size. It would in the long run make the code easier to read, less error-prone and next time something needs to be changed (another regression pops up, ehehe) in this area, it will have to be changed only on one place
Nitpicking: 'e' in a variable name (e.g. meFoo) denotes enum data type. For integer variable, mnCurrentPage would be an appropriate name
Ain't it the other way round? i.e. pCell will be appended in SetDirty again?
only broadcasted
I think 'Links' in this context means more 'Verbindungen' (like, links to other files, objects etc.) than anything else. Nothing to do with left
This guy now collides with http://cgit.freedesktop.org/libreoffice/core/commit/?id=39e9e3ee8369eeb00025291e637f0bb2a8f87ed2 from Adolfo JB. I've seen & merged his patch sooner than I've seen yours. Sorry 'bout that.
I used 'Color' here on purpose ... it is like in shape fill dialog (right-click shape -> Area... -> Area -> Fill -> Color, Gradient, Hatching etc. ), but then again, I (no longer) know much about nice and usable UI :)
This piece of code seems to be almost identical to the piece above ... could it be perhaps factored out to some shared place e.g. to a new method (SvgStyleAttributes::getDefaultColorIfNoneSet ;-) ... whatever can an appropriate name be) or any other suitable shared place?
Slightly less readable, what about this instead? switch (nGroup) { case KEYGROUP_NUM: case KEYGROUP_CURSOR: case {...}: bValid =true; break; default: bValid =false; }
Why are those keys special? (asking, honestly don't know)
You can initialize the member variable in ctor already: ModalDialog( pWindow, "AboutConfigValueDialog", "cui/ui/aboutconfigvaluedialog.ui"), bNumericOnly( limit != 0)
... and call SetMaxTextLen( limit == 0 ? EDIT_NOLIMIT : limit) here => then you don't need a separate setBehaviour method
Custom widgets are goofy and they usually don't request optimal size by themselves -- but don't do it like this (request optimal size of parent container here). Implement CuiCustomMultilineEdit::GetOptimalSize() method in your subclass instead. Inspirational commit: http://cgit.freedesktop.org/libreoffice/core/commit/?id=ac5b44c087a9b5f20795875189fe1dc18a12c004
Unless one plans to implement a click handler doing something special (e.g. opening a new dialog on the top of this one), there's no need to get ptrs to OK and Cancel buttons ... it's enough to handle RET_OK | RET_CANCEL symbols
Some 'help' button here ... aye, no one want to write help in this phase of development, but it's a good style *grin*
Keep those buttons here, but maybe make them invisible by default ...
Numeric limits are preferably defined in .ui file as adjustments (in Glade select spin button, general tab -> spin button attributes -> adjustment. Add a new one and set limits there) Similar git commit e.g. here:http://cgit.freedesktop.org/libreoffice/core/commit/?id=64992cc56e0e8a480e33b847d3a327f8229535d2
Yeah, it is odd, but it's been like that afaics since 2001 at least. I can fill nWIDs in for the two properties referenced in this bugfix, but for the rest, it's more a follow-up cleanup task (and who knows what relies on this table being so odd and breaks when we fix it *grin*)
Is styles panel really intended for Writer variants only? (unclear from the bugreport, but it's a bit tl;dr)
Didn't you want to move this method? :)
OK, it is probably not a bad idea to place a new method into vcl as it may be of general use. But is there any specific reason why did you make it a member of FormatterBase class? To me, for example Edit class would be a more appropriate place (as the edit field in affected Calc dialog is a MetricField, which is derived from SpinBox, which is derived from Edit)
Er, ehm, do what I mean :) What I really meant to do here is what UI (calcoptionsdlg.cxx) does: if aConv is CONV_UNSPECIFIED, use the setting of formula syntax. I guess I should then make a special case for CONV_UNSPECIFIED, and for everything else (default) use this 9999 or other appropriate magic constant
To save some typing here, you could group the widgets and then enable/disable them all at once, or at least in less steps. Group1 (everything above line style listbox) already exists (it's 'grid4' in .ui file). Group2 (everything below line style listbox) needs to be created yet. Then mpGroup1->Enable(); mpGroup2->Enable(); done. The same with disable
Did you really intend to add this toolbox in this commit? If so, update the commit msg please, as it only mentions ref. edge and vertical stacking of the text
Please add some label here and/or tooltips to individual radiobuttons (if possible), it might be not so very clear, looking at the images only that this is supposed to be a reference edge for text rotation
break; went missing here
In the new code, rather set those accessible names in .ui file or not set them at all There's the following easy hack: tdf#87026 to clean those things up in legacy code
Shouldn't this also disable transparency spinbox? Now it stays enabled when transparency's none, so user can click it freely and as soon as the value changes to >0, it switches transparency mode to 'linear' ... is this expected? ('yes' is also a valid answer)
Please add some tooltip here, so it's clear this is a start/end colour of the gradient
Tooltip here too
... and here
I'm not sure if this is really what you meant ... did you want to make this spin button increment/decrement its value by 5 when clicked on arrows? If yes, you have to do that in GtkAdjustment associated w/ this spin button
Please don't do this -- you're introducing an untranslatable string. What people usually do in cases like this (if there ain't no legacy .src file to sneak the string into) is that they add an invisible GtkLabel with the given string to .ui file
... and of course adjust those function signatures accordingly
... and after code refactoring, this line can be removed
Uhm, I'm not convinced this is the best way to do things, I'd maybe prefer not to use ComboBoxText but some other widget whose items can store some data (think liststore) and those data would contain the value needed for spacing ... Let me check how other sidebar code does things and update this commend then accordingly
Due to code refactoring (typed links) here's where you get conflicts. Please change those to: DECL_LINK(EnableContourHdl, Button*, void); DECL_LINK(EditContourHdl, CheckBox*, void); DECL_LINK(SpacingLBHdl, ListBox*, void);
Maybe some ellipsis here would be appropriate (Edit Contour ...) as it opens a new dialog
Are you sure this code's unused and it can be safely removed?
Please remove this line before final commit
When one clicks on 'No Wrap', the contour button gets disabled. but it remains checked if it has been checked before. This line of code makes it unchecked again when one chooses any other mode (parallel, optimal etc.) Is this expected? (I've no idea, am no Writer user)
You may add an image here, or use only image w/o text. Radiobutton with a text only looks a bit out of place in this icon-only panel ...
No need to create 1 more string copy, can do it directly: aCurrentGroup = GetCommandLineToken( ... );
We want the gallery items to *always* have transparent/checkered background. So we need to take this branch unconditionally
no need to change this then
... and then we don't need this branch anymore :)
The same (as for galleries) applies here: we want to use transparent/checkered background unconditionally
Return a const reference here instead to avoid creating copies of the vector unnecessarily -- iiuc, you're only reading from the vector, not actually modifying the values. Sure, the vector will never have 10k items so it doesn't matter performance-wise, but it's better-ish ;) style
I was idly wondering: wouldn't this loop be useful also elsewhere? You could then make it a separate func, FindPanelByID or somesuch
Is this still the case ? I recall another patch of yours renaming Impress nodes and even enforcing some constraint on this (node name must be the same as node ID) ... if not, then we perhaps don't need this variable?
To be honest, I'd prefer those methods to stay. It's more modular design (ravioli code, if you wish) to have them here and call them from UnoPanel, UnoDeck etc. than to scatter the functionality all over the place + who knows, maybe we'll need to reuse this code in the future?
This hard-coded string constant looks a bit fishy. Is this the only possible value to test? Maybe add some big FIXME here (to remove the real cause of this behaviour)
same here ...
const reference :) (the thing with &)
Hm? Why is this necessary? I'm not saying it's wrong, just honestly don't know
Duh, please don't add yet another macro, there's enough of them already and they make the code readability worse. See below how to do what you want to do differently
bCheckDirect is not really needed ...
... because presumably this whole block of code is not called if bCheckDirect == false. And that is if and only if (as far as I can see) nElement is endParaRPr So you can as well do if ( nElement != XML_endParaRPr) { GETAD( CharUnderline) ... }
... and the same story with this block
Please use constants here (COL_BLACK, COL_WHITE, or whatever appropriate), see include/tools/color.hxx for the actual constant definitions
Same here
If you really have to make those white-space changes, please make them at least consistently: <css::uno::Any> (no space)
Not your code, but why is this guy regular bool member and the rest is a bitfield?
The same here, please use whitespace consistently <css::sdbc::XRowSet>
and here. In fact, all over the place
I haven't seen the body of this method yet, but the amount of arguments makes my head spin. This is going to be really difficult to maintain. Can't you somehow pack at least subset of those arguments into some struct and pass that as an argument?
I wasn't sure so I added cloning -- better be safe than sorry -- and indeed, if the item is not cloned, whatever this pOriginalItemValue points to is destructed earlier and a crash in ScPivotLayoutTreeList destructor happens.
Tiny little nitpicking - it is a convention to name those variables like this: m_p$type$name. Here, the type is CheckBox (Cb) so m_pCbDiagonal it would be :)
Pls stick to some sane indent conventions, align '{' with 'if'
Same here
and here
everywhere :)
Looks slightly superfluous to me ...
When I added this frame, I assumed the label would get updated depending on the error bar currently edited so it'd read "Y error bars", "X error bars", depending on the type of e.b. :) Then again, there's a method to update the panel title, so maybe we can show the type of error bar there ...
Does it actually help to leave out "error" from "error category"? It's now definitely less clear to me, what kind of category we actually mean here
and same here, but less urgently so
You may use default argument here (bool bReset = false), then you don't have to modify existent callers of this method
If *he* says so, then it must be true :)
conventional naming: bLock (b for boolean)
Can those two guys be const, too? They don't modify SwDBManager object, do they?
Additionally, I don't see those methods used anywhere ... hopefully they're used in one of the follow-up patches
What about the other two -- GetRowCount (OUString, OUString) and GetRowCount( XConnection, OUString)? I've looked at all four patches but haven't seen the above two methods used -- I might've missed something
conventional naming: nCount, nCnt (n for integer variables)
same here
Givent its name, this method has quite surprising return value/side effect -- I'd expect return value to indicate whether an error occurred, not whether headers|footers should be used. Make it return void and create a new method for header|footer story, or make this bStylesWithHeaderAndFooter an argument, reference to bool
This method wants to have some nicer name, FinishMailMergeFile for example?
It should :)
What Regina says :) Please read this: https://wiki.documentfoundation.org/Development/ODF_Implementer_Notes and until the change is approved by ODF-TC, export into loext namespace
Tab bar is visible (statement, not a question)
Uhm, why did you remove this one?
nitpicking: odd indentation
And in the same light, perhaps don't remove those key combos unconditionally, the fact that they're unusable in Windows with German keyboard doesn't mean they're unusable everywhere ....
Given the above, I'd just append those KEY_LESS, KEY_GREATER combos here ...
This kbd shortcut is valid for Hungarian only. Please check that it really conflicts with < or > on Hungarian keyboard and only then remap
typo: GREATER :) (hm, I wonder why the build doesn't fail here)
I'm not sure yet if removing those keys unconditionally is what we really want to do. Sure, they're accessible only with AltGr on German keyboard (which renders them unusable in German Windows), but for other languages and keyboard layouts, the users can still be given the option to assign them to actions.
Please comment this code, if possible, so that it's easier to debug in the future if something goes wrong here
As discussed on IRC, please move the body of this test into a separate method, as it is almost identical for both ODP and PPTX tests ..
In order to have some nicer loop index here, you may want to change the slide layout to 'blank slide', so that there are only text fields (no title, no subtitle) shapes on the slide
Is this oversight or on purpose? The box used to be aligned left ...
You can make a bool variable outta this, as it's used repeatedly
Please don't hard-code selected entry like this, it's going to break next time someone thinks it's a good idea to rearrange UI items again Maybe change the order of items in mpLBCategory in such a way that Entrance is on 1st position. That way, nothing must be explicitly done for that item to be selected onAdd(). And while at it, move Motion path perhaps to the last position, it's not so frequently used
Better not do this, those fLeft, fRight etc. values are clamped against LONG_MAX (double equivalent thereof) for a reason -- just reuse the ones from above
Very misleading variable name (the same for fNewY below) This is the maximum width of the object, right? Make it fMaxWidth or sth along that line
bool bSingleSelection = (nSelectionCount == 1) or something along that line
This can return LISTBOX_ENTRY_NOTFOUND and bad things may happen if you try to select that, so please handle that case
Still, 4 accessibility relations are deleted and only 2 are added
You can as well remove those 3
Why is this block duplicated?
This one too
Please remove this line -- it makes no sense to have a widget labelled by itself
Please remove this line -- it makes no sense to have a widget labelled by itself
Maybe "Fill Type" would be better here
In related .cxx file, you've removed accessible relations for this widget, but you haven't added them here
This widget has no label, only accessible name => please remove this chunk
This label should read "Gradient angle" or somesuch
This widget has no label, only accessible name => please remove this chunk
This label should read .. uhm, dunno what exactly, but it has lot to do with the amount of transparency of the fill
I see altogether 4 relations removed here, but only 2 added to related .ui file -- can you please double-check that?
While you're at cleaning up, you may remove this line, it makes no sense (a widget labeled by itself)
this one too
Eh well, German is not the only language where AltGr is significant ...
I'm not a big fan of sprinkling magic constants over the code like this, but I see it's been inherited from the old code const int nIconWidth = 19; long width = $foo->bar() + nIconWidth; That's what I'd do
Let's not include this branch then, until the image is available, some paranoid code purity checks might remove it anyway. Perhaps just drop some FIXME: comment in the code
Please don't do this. This way, the string is not translatable, it's English and it'll stay English independent of user's locale. You have two options how to make a string visible in UI translatable (include it as a hidden string in .ui file) or append it to .rsc file. Ask me about details if you don't know how to proceed
Hm? Isn't this the same 'else if' as the previous one?
Can you try to reduce number of temporary strings created here? You can concatenate multiple strings in one go like this: OUString foo( str1 + str2 + str3 + ... )
You can initialize mpCustomAnimationPresets directly in the constructor (instead of doing it in a separate func)
You can as well do aAny >>= aFillStyle. Or CPPUNIT_ASSERT(aAny >>= aFillStyle) for a bit of extra paranoia :) I'll just amend the patch, it's only a cosmetic change ...
Either don't initialize this variable at all, or initialize it to some different value -
and the fill style at the end of the inheritance chain is expected to be ... FillStyle_NONE? Initializing test variable to the expected value in the very beginning somehow decreases the credibility of the test, my 2c to that
as when getPropertyValue call fails for whatever reason, your test will still pass because aFillStyle has been initialized with the very value you want to test ;)
Although it doesn't look like that, getPropertyValue("someproperty") >>= somevar; is a boolean function (returning false e.g. when the object doesn't have the queried property, or it does, but it's of a different type). It's just that hardly anyone bothers to check its return value. That's what I meant
I couldn't believe it, but I checked with the specification and it is indeed possible to have a gradient or pattern fill for the text. Crazy
It'd be good to keep the overloaded methods of the same name in the header file together, so please move this upwards, to the other CreateDeck thing ...
Hmm, what do you need boost/bind for? Am I missing something?
Relative paths are rather bad style of including header files. Maybe you can move the files in question to inc/ directory in desktop module?
Are you sure this works, given there is return from the function on previous line?
Where does 65 come from and why there has to be a special case for it? Is it the same value for every platform? What does it depend on?
The same question here: why 62? (and not 42, for example :D)
and here
Nitpicking: you can do this right away, w/ less temporaries double fBegin = pEffect->getBegin()
Please don't introduce whitespace changes, unless absolutely necessary
I can't say I like this idea of testing by comparing to reference document. It introduces too much uncertainty, too many points that can possibly break that are independent of the code you actually want to test ... but maybe you have a very good reason to do it this way instead of just testing the content of the document ...
This whole if-else block is kinda flawed ...
I can only guess what you really wanted to do here. For "both have no line" you should've also checked if pLineBot is null, and you're in fact doing it, but very indirectly, as pLineBot == pLineBotRef will be true only if both are null
You can also use CPPUNIT_FAIL
typo: WidthIndex :)
I have neither time nor energy to comment on this map, but I trust you that you know what you're doing :)
typo: nOuterWidthIndex (it makes it easier to search and maintain the code if things are spelled consistently)
So for this slanted dash-dot line, I find the original mapping okay and I'd not be inclined to change it. But it's a matter of taste and it can be discussed, nothing to hold this patch back for ...
This property doesn't exist for Writer fields and that's why one of the Writer test fails
Due to the above, an Impress field having the given property shouldn't be exported as FIELD_ID_AUTHOR ...
... but as FIELD_ID_SENDER
Like with the other patch, just do mpCBX_duration->GetValue( nPos ) here
Are those strings really no longer needed? What happens if I'm now on the last word matching the pattern and click 'find next'? Does the search silently continue from the beginning? I would keep those strings (and even extend them, 'reached the end of the document, continuing from the top'), ~all decent text editors have such notifications and this (some label in a dialog appearing) is a very mild form of it. Some not so decent text editors have the user close a pop-up dialog when the end of the search space is reached.
Maybe you can add some stock icons to those buttons and see how it looks (go back, go forward, previous, next or sth along that line) and see how that'll look
Please try to revert this part of the patch and see if you still get a crash (because I don't anymore). Include it only if you still do
and the same here of course
First of all, as already discussed on IRC, please add some spaces and fix indentation here, so it looks e.g. like if ( foo[bar] == baz[bleh] || something.else || .. It'll be easier to read
So this means: "it is our own lock if either of OOOUSERNAME, SYSUSERNAME is empty" ... is that really what you wanted to achieve? (I've no clue, I don't know this code so well)
Can this ever be any other value than 1? Afaik those comboboxes don't have multiselection enabled ... Maybe I'm not getting what are you trying to achieve here. Is this an alternative way of making sure that GetSelectEntryPos doesn't return LISTBOX_ENTRY_NOTFOUND?
Why so complicated? You can as well do: mpCBXDuration->GetValue( nPos) + transform the value (divide by 100?) if needed
the same here (see my comments to CustomAnimationsDialog.cxx)
and here ... just use GetValue( nPos )
This method can be const (b/c it doesn't modify the object)
Please keep the indent consistent
here too
Not your fault, but why not just make this 360?
Please add some tooltip here, so that it's obvious what the icon button does
and the same here
Not very happy with this 1-letter acronym label, it might not work well in other languages
Maybe you want to reduce spacing in this box, so the buttons are closer to each other, it now looks a bit inconsistent with the nearby flip toolbox
Tooltips, please
the same here
This method can be const, as it doesn't modify Button object
Mhm ... do we really want to remove the panel from Writer completely, even when the replacement Writer-only panel doesn't exist yet?
Nice reduction of duplicated code, btw :)
Imo it looks better if 'Size' as well as 'Position' labels stay enabled when size/position is protected ... just disable the controls underneath ...
What's wrong with full-lenght 'Width' except for it takes more space? I'm afraid just 1-letter acronym will not work in some languages (and there's certainly at least 1 language that has the same initial letter for width and height)
Please align this checkbox w/ width and height controls, not with X+Y controls, as it is unrelated to them
Empty line here
for (size_t i = 0; i < imgList.size(); ... ) or something along that line, don't use magic constants as array limits (and next time someone changes the array size, they don't have to remember to change this loop too)
Use some less silly variable name that is longer than 1 character and that matches some naming conventions ... aBitmap for example
The same thing about variable naming applies here
everywhere :)
Can be 'const OUString&' since you're not modifying aPersonaSetting string
Please don't leave commented out old code behind, unless it is relevant to the new code
This is not so ideal (no sudden jumps in numbering, principle of least surprise) Either move this line to the very end, or shift the numbering of the following two lines. It doesn't matter in this particular case really
Not your fault (it already was like that), but bad coding style still -- please use m_vSearchSuggestions.size() as the upper bound of the loop
Use ready-made MnemonicGenerator::EraseAllMnemonicChars to remove all ~ chars from the string
Any reason to use mutex here?
Better and more consistent style: initialize here m_bDirectURL( bDirectURL )
Where does '9' come from? Maybe better define it as some constant ...
Please merge those two statements into one
Better: aPersonaSetting.isEmpty()
I see lot of duplicated code between this block and the one above -- can you try to reduce the duplication wherever possible?
bDirectURL (b for boolean)
... and the same issue with published API here
I'm afraid you can't go around and change a published API like this ... so you have to find a different way. Either use some unpublished enum or reuse one of the existing ones for your error condition
mnThumbnailWidth, mnThumbnailHeight (n for integer variables)
An approach with less magic constants: use empty brackets here ... nObjBorderLineStyles[]
... then you will not need this constant ...
... and in the loop you can use SAL_N_ELEMENTS macro for ( i=0; i < SAL_N_ELEMENTS(nObjBorderLineStyles); ...) so that next time someone adds/removes the elements from the array, they don't have to adjust code on multiple places
Let's then fix this issue ...
... and make a separate commit out of doing the recalculation (of only affected cells) properly
In this particular case, it's not necessary to change this line (if it ain't broken, don't fix it)
Please remove this line, after (as mentioned in real life conversation) you have modified tpformula.cxx NOT to tag document options as modified, when they haven't been modified. That way, we'll prevent resetting bCalcAll here
I guess I need a second opinion here. I wish there was a more elegant way (i.e. not a hard recalculation of everything) to make cells affected by changes in formula settings update their content. Sadly, I don't know of any ... Then again, changing formula settings is not something one does every day.
Hm, nope. We're doing 'new LinkManager( ... )' at some point of time and for that, forward declaration won't do the trick as the compiler needs to know the size of the object. Need the header for that anyway ...
Mhm, I'm not sure if this is going to work if this fun GrafPrefMapMode of the object is something else than pixels. Since I don't know this part of the code so well, to be on the safe side, I'd suggest to: 1) factor out the code calculating the original size used in View::SetMarkedOriginalSize(), make it e.g. a member function of SdrGrafObj 2) and then use it here as well as in View::SetMarkedOriginalSize()
Less spage here please :)
You can leave out 'this->'. this->Foo() is the same as Foo()
Strings like this are not translatable (so they'll be English in all locales). There are two ways how to fix it (none of them is very nice, but since LO doesn't use gettext, what can we do) 1. Add an invisible GtkLabel to .ui file read by this class and get the text from there 2. Create a .src file with couple of resources (or reuse one, if there is/was any in this folder and/or all of sfx2)
I'd rather see matching using positions, not strings (since they'll be locale-dependent)
Ah, but now I see that you're actually using the strings in a combo box. In that case, you can include predefined items in .ui file already and they'll be automatically translatable
And the same story here -- why not just do SelectEntryPos(MNI_WRITER)?
Better: !aLastFolder.isEmpty()
I think by the time aDlg->Execute has returned something, the dialog itself is closed already so no need to explicitely close it again, but I might be wrong ...
With this change in place, 'sProgress' is now a misleading name for an error string. So maybe check the places where 'sProgress' is used in the code and make a new string variable (sError?) where appropriate
You can achieve the same by 'foo->SetProgress( OUString() )' and then you won't need a temporary sBlank variable
... and of course do it like that everywhere ...
Since we're now responding to EID_SHAPE_CHANGED event, it'd be good to add it here too
Please move this array further down, to the switch-case branch where it is really needed. It is of no use in all other cases, so no need to allocate storage for it.
I'm yet to find out if this is the ideal approach. Sure, EID_SHAPE_CHANGED event might fire when master page changes, but it likely fires also in other cases (for example when, dunno, page format changes?) and in that case, it's pointless to refresh the list of master pages ... but for the time being, leave it at that. We might want to create a separate event for master page change in the future and use that one here
And in all other cases, nothing will be selected => add some else mpMasterSlide->SetNoSelection here, or sth along that line
default: break; (to make the compiler happy)
Oh noes :( 95% of this switch-case is identical with SlideBackground::Update method. Please don't duplicate code in this way. Never. It is a maintenance nightmare.
And actually, there is a more simple (although not so straightforward) way to solve the issue of refreshing the control state - SfxBindings::Invalidate. This one will make sure that StateMethods of a given slot is called and our sidebar will get notified about that in SlideBackground::NotifyItemUpdate. This method will then do all the necessary refreshing of controls and items (it calls Update method too). The bindings for current frame are already available in the sidebar ( GetBindings() ), so either create static array of slot ids (look e.g. at FuLine::DoExecute how's that done) and then do GetBindings()->Invalidate([slotArray]). Or invalidate the relevant slots one by one (use overloaded Invalidate method that takes a single slot as an argument). When trying either of the methods, please put the breakpoint into SlideBackground::NotifyItemUpdate and use the approach that leads to less refreshing of the controls to avoid screen flickering
I wonder if we still need this variable (and PointChanged) handler below now that this fun rectangle control is no longer present ...
It'd be wonderful to move this class to a separate file
What happens if a preferred unit isn't 1/100 mm ? (Hint: it isn't everywhere and every time) You might want to consider using SdrGrafObj::getOriginalSize Gulsah introduced in commit b12354a2de297f05dcdf4602290b56d64675006a. Also useful method: GetGrafPrefSize(). Then you don't have to convert between the units so much
Those methods can be static, b/c they don't operate on our GraphicInfoDialog object, but disregarding that, if you use the methods of SdrGrafObj I mentioned above, you will not need them
Uh ehm ... having a copy of this func in every sidebar panel or dialog that needs the list of paper formats is not sustainable in the long run. I have yet to find a place where such code can be put so that it's reusable from ~everywhere
Do we really need this particular controller ( = doesn't just SID_ATTR_PAGE_SIZE do the trick)? I don't see any special case for SID_ATTR_PAGE in NotifyItemUpdate method
Hum, I can't see 'Custom' entry ever added to mpMarginSelectbox, did I miss something? But either way, this will again not work in non-English locales b/c entries are going to be translated. You either have to pass localized string as an argument to RemoveEntry, or you have to somehow make sure it is always on the same position and then remove entry on that fixed position
You can return right away i.e. instead of if (this && that) return true; else return false; do just return (this && that);
Perhaps this ("moved margin ...") is a better headline for a commit message
Please make a separate commit outta those changes (change of title and change of icon). They are unrelated to the rest of the patch
Those magic constants should go into some shared header (PageUtilsCommon.hxx, or whatever appropriate)
Just between us girls, what was wrong w/ the old code?
nullptr (NULL was yesterday)
nullptr
those if's should also be shared in a common header, you can make e.g. bool functions (IsNarrow, IsNormal, IsWide, IsMirrored etc.) outta them
Please use bool value as an argument (i.e. don't misuse integer even if it can only take 0 or 1 value)
This comment is not relevant anymore ( as we removed CMYK )
Does this work w/o conversion (from percent to colour value)?
Please don't use Edit ( = plain text entry) here, see the comment in the other file why
Not all the languages/locales use the same format for 'number%' (some use space between, some don't, some even write % sign first ... ) => Please use the same type of widget in both preset and custom sections. MetricField (or is it NumericField?) has a built-in number formatter, so you don't have to format the string manually
and to make matters perfect, you could perhaps pre-select Impress/presentation templates here
I can't say I like this approach so much, it is very ... ehm, opposite of general. Suppose we would want to introduce more options/modes here (like, preselecting spreadsheet templates when template manager is called from Calc, text templates when called from Writer ...) and then you'd need one mbIs$FooDoc for every case
So what I'd suggest instead is to introduce or even reuse some kind of enum (AppImpress, AppWriter, ...) and write a more general method (setMode? preselectCategory?) taking 1 enum argument ...
... and then add some switch/case here and select entry depending on our argument
Non-translatable strings :(
here too
non-translatable strings :(
Isn't IsChecked returning bool right away? (and casting is then not needed) + you can do without intermediates: if (Foo->IsChecked() { .. }
Hm, and the same here. How did this ever pass compiler plugin checks?
Please replace all those c-style casts with static_cast<sal_Int32>
Sure you still need this method? I thought you've made it a member of this XBitmap class already ... Anyway, if you do, please make it const
You can as well factor 'if (pSh)' out ...
The following 3 lines ...
... since here, you're testing for its existence again
... are identical with those 3 lines, except for the name of variables. So please factor them out
static_cast<sal_uInt16>
static_cast<sal_Int32>
Maybe you also want to rename the .ui file and the widgets within. If not now, then you'll have to do it later, when you create the real bitmap tab
Kill most of this code with fire ...
... as I don't see aXFillStyleItem (eXFS too) used anywhere else than here, so all but one cases from the above switch are then unused
And again, this case is almost identical w/ the previous one. Try to merge those two into 1 and add some ifs, for the lines that are different It will be very hard to fix bugs in this code, when such large chunks of it are copy-n-pasted around, often without much thought
eFillStyle looks nicer (e for enum)
Try to merge this case with the one above, so have case BITMAP: case PATTERN: and then some ifs inside, b/c they share quite a lot of code
This doesn't have to be a member function of the object, as it does hardly anything w/ the object or its member variables. You can make it a local function that takes a pointer or reference to bitmap item as an argument
and maybe the same here ( = merging 2 cases into 1) it's XFillBitmapItem going out in both cases
and now pColorListItem can be null
so you can get a crash here
... and actually the same is true here, STR_BUTTON_UP and _DOWN becomes unused once this is committed
... and since STR_PASSWD is now unused (or so it seems to me), you can as well remove it from related sfx.hrc and sfx.src file ... but please leave some comment in .hrc indicating there's a gap now
I don't think you need to add the new slots here. In fact I don't think you need them anywhere outside their ExecMethod (SwView::ExecTabWin) and StateMethod (SwView::GetTabWin). Unless, of course, you're sure that you do :)
and the same here -- will this else-branch ever handle page attributes? (this code looks like it's handling some drawing objects and attributes)
What I said about the previous file: don't put slot ids here unless you're 100% sure you need them
Uhm ... why? I mean, why 6 or 10 and not 42 and why is the default size of the dropdown not good enough?
If this is the new custom widget numbering list box, maybe you can use its SetSelection method
Hm, do we really need to duplicate those entries here? I bet the same list exists somewhere in cui already. Now that we have the helper class, can't we just have it in 1 place? For example, look at how I've done it for PaperSizeListBox class (also in svx/source/dialog)
Doesn't have to be a member function as it doesn't modify this object, so you can happily put it into anonymous local namespace ('lcl_' prefix usually denotes that) ... Or is there anything else outside this file using it? If so, please remove lcl_ prefix
The loop was this ugly already before, so not your fault, but while we're rewriting this piece of code, can we please make it less K&R C-style and more C++-11? It's 2016 after all, not 1995
Maybe bNeedNextFreeColour = true;
You can use less intermediate variables: aName = aNewName + foo + bar;
Please make this a separate func returning bool, FindColourByName or sth along that line, as you're using the same code on multiple places
This loop is equally old-style and could be written better (again, not your fault). Additionally, are you sure the semantics/behaviour is the same as it used to be after your changes?
Use the above mentioned FindColourByName func here, then you'll likely not need bDifferent variable: if (FindColourByName(aName)) bDifferent is pretty bad name in this context anyway, bColourExists describes the situation better
It's not that it'd matter so much here (the colour lists are rather small-ish, so no observable slowdown), but it's better style not to search for the same thing twice. Do it just once and remember the position
Please use one of the context enums from EnumContext.hxx (from sfx2 headers) to decide which application we're in. It's much less ugly and less verbose
This will not work. The title is going to be localized ( = different in different languages) so the condition will be false in any other language than English
Please don't introduce untranslatable strings like this. There are ways how to either make a new string or reuse an existent one so that it can be localized
I guess I'll leave the decision what's supposed to be here to UX people, but "Slide" only ... hmm ... "Slide format" maybe? Even "Slide background" was slightly more descriptive
If we really stick to "Page" and "Slide" only, you can as well reuse STR_PAGE_NAME, STR_SLIDE_NAME from this very file
Maybe you also want to add a case for Impress here so that the title is set correctly, no matter which app has been opened first
can be const, it doesn't modify the object
Let me quote TDF bugzilla quip to you: "Checking "if (this)" is completely brain-damaged. If you want to ask questions like "do I exist?" then practise philosophy not C++." On a more serious note, such check is useless. 'this' will never be null in a member function. Or to put it differently, the check itself is not a problem. Calling the method on a null object pointer is. So please fix the calling code.
I think you're creating too many copies of objects. isHistorical8x8( GetGraphicObject().GetGraphic().GetBitmap(),...) doesn't work?
Hehe, why not translate the message while you're at it (it means "where is the pool?")
"XHatch couldn't be created"
Probably bValidHatchName
Here too
Please reduce the duplicated code. This block is the same as the one below (I don't understand why XFillBmpSizeX and SizeY are different items anyway, but that's not your fault)
and the same here ... both are good candidates for some kind of template function
Hm, why not put the radio buttons into group(s) to make sure only one of them is selected at time? You wouldn't then need this code at all
BitmapStyle, 'e' prefix is used with variables, not the data types
TileOffset (provided that Off == Offset)
This variable is overwritten couple of lines below (144), so either drop this, or move the initializiation w/ GetModuleFieldUnit here
You already initialized to null in line 93, so why do it again?
You'll have to reduce copy'n'pasta code here substantially. All those cases are almost identical. The only point of difference is which size (BitmapSize, FilledSize) is used.
This block is rather lame, what about using some triple ? operator :
Some free lines here please, this is very hard to read
Either rename the member variable to m_fObjectWidth (to denote floating point number) or don't cast to double
So what's the point of this conversion?
Free lines. In the whole block below
BitmapStyle eStylePos ('e' for enum)
Splendid, and now let's try to reduce c'n'p code here:
In all of those cases, you're filling XFillBmpTileItem and XBmpStretchItem ... the former is only true if eStylePos == TILED and latter if eStylePos == STRETCHED. So you can as well factor those two out of switch-case statement
and now for those p[XY]Items Have some common variable, aSomeSize and then fill it accordingly case ORIGINAL: aSomeSize = rBitmapSize case FILLED: aSomeSize = rFilledSize and then, outside switch-case statement, for everyone: pXItem.reset(aSomeSize.Width()) pYItem.reset(aSomeSize.Height())
The same here, if possible further: m_pSizeBox->Enable( eStyle == STRETCHED ) the same with m_pPositionBox m_pPositionOffBox( eStyle == TILED ) you get the idea, right
Wasn't this meant to be &mnPageType?
Similarly &mnPos?
Is this still needed? From the comment in tparea.cxx, it looks like this code is here to make sure the area tabpage is big enough when fill is set to 'Bitmap'. Since we're in a separate tab page now, maybe we can rely upon layouting code to get its size right and kill this code?
Those are all regular metric/numeric fields, no custom widgets, right? Please move setting those attributes to .ui file, where possible
This is already an improvement (previously the string was barely translatable to other languages, as it was composed of 2 independent strings) It is and was kinda clumsy English though ... Color of Insertions maybe?
and Color of Deletions
Color of Changed Attributes
Color of Mark
Compare explicitly to 0 or even better to GRFILTER_OK constant. I've seen other code doing this too, but let's not get into bad habit of misusing integers as 0 => false, everything else => true
I'd rather use filename (instead of Bitmap 1..N) as initial value here ... see e.g. cui/*/tpbitmap.cxx how's that done
Sure the new entry is always going to be at the end of the list?
I'm pretty sure () is missing here
Oh dear, 10 different handlers doing more-less the same. Please use only 1 IMPL_LINK_TYPED for all value sets. Pass pointer or reference (but then you have to make arg. no. 3 reference as well ... I don't feel strongly either way) to the particular ValueSet as its 4th argument Find out which member variable does the argument map to (so you'll have a lot of 'if (pValueSet == mpFooSet)' which is still a bit clumsy, but can't really do better here ). Depending on that, decide which of the maps (<position, UNOcommand> to use And finally dispatch the corresponding command
And ~same issue here: 10 loops doing the same Please create some array or std::vector of ValueSets, with an initializer list { mpFooSet, mpBarSet, ...} or use push_back if choosing vector (but that's a tad old-style) Then loop over those: for (auto& aValueSet: aValueSets) { do_stuff_with_value_set } so you'll end up w/ two nested loops instead of 10 identical loops
It is pretty bad style to include .cxx files. So please create some .hxx header with map declarations other files can include and move the initialization/implementation into .cxx file, if possible. Even better style (although it might be a bit overkill in this case) is to create some helper class or struct holding those maps (example: sc/source/filter/xml/editattributemap.[ch]xx)
I think what Visual C++ doesn't really like here is the combo of VclPtr and initializer list (but there are better C++ expert than me). If the trick with decltype doesn't work, try this: mpShapesSetMap[VclPtr<ValueSet>(mpFooSet)] = aFooShapes
Changed semantics here slightly ( this won't trigger if a selected hatch is different from the previous one ) but maybe the position of the last selected hatch is remembered somewhere in the code, so you can test for it here
As discussed on IRC< kill this code with fire
and no saving of the value of the new preset list?
*sigh* this is pretty horrible code (end of 90ties all over again) but yeah, it already was like that
You can 'return CreateBitmap(...)' right away, without intermediates
I think you can make this method non-virtual and private, it is only used internally by CreateBitmapForUI and GetBitmapForPreview, which are both exposed to outside, so no need to expose this one as well
If you're not implementing those handlers yet, please do drop some 'DO NOT REMOVE, work in progress' comment here
style :)
What happens here if the no. of items doesn't fit into 5 lines anymore?
nIndex < pList.Count(), you don't really need the intermediate
can be const
+ it seems to me this one is unused
Hm, this is tough as those methods to get the items from lists are named differently (GetHatch vs. GetGradient vs. GetBitmap vs. dunnowhat) but please try to reduce duplicated code here. I have yet to come up w/ some creative idea so as to how exactly (template function?)
This method should be private
I already mentioned this w/ hatch tab, so let me repeat it here as well: clearing the list after deleting an item and creating it again a bad habit. Imagine the list has 10k items, or the previews take ages to generate. If you don't want to touch the parent ValueSet class, please modify your PresetListBox class so that on deletion, remaining item ids shift accordingly.
Same issue here
and here
and just for the record, nuking the list after only renaming the item makes no sense at all
GetIconSize,please ... it totally confused me when used in tphatch.cxx, I thought GetSize is a size of the whole value set
A boolean member is not so ideal coding style in this particular case, things that are specific to sidebar (or toolbar) should be implemented in the corresponding sidebar subclass of this one (the same for toolbar code, of course), see inline comments below how it could look like ...
This should be implemented in MediaControl class -> please make InitializeWidgets method virtual and override it there, insert this code and for everything else, call the parent class (MediaControlBase::InitializeWidgets)
The same here
And in pretty the same fashion, move this to sidebar code
You might want to make this some kinda local static convenience function, such as IsImpress
some naming conventions: 'r' makes it look as if this was a reference, which it isn't, so rather 'aDrawFooContext'
this block ...
... is almost the same as this one, except for a different SetPanelTitle. Please try to group the work somehow, e.g. create some (local static) convenience functions evaluating context, such as IsDraw (Draw normal and master), IsDrawMaster (Draw master) and then 'if (IsDraw) -> hide the widgets; if (IsDrawMaster) -> set master panel title; else -> set normal panel title;'
And more or less the same story in the following block, less code to share though
since mbTitle is true in all the cases, it can just as well be outside those if-else branches, no?
You will need some typedefs here for the function pointers, e.g. typedef void (*SomeFunction)(void); (if you know how to do that with std::function, even better)
Now, add one more (at the end of the day you will need 3 more) map here: std::map<VclPtr*, SomeFunction> maResetFunctionMap (typedef from above)
Consider unifying those two variables, now you have lot of redundant information here Try e.g. map< sal_Int*, VclPtr*> maButtons ...
... and then you can simply do maButtons[nPos]->SetPressed() ;
Ook .. it is easier to search map, esp. with std::find, I admit.
You'll need some methods populating your function maps, e.g. InsertResetFunction, InsertFillItemSetFunction. They'd take pointer or reference to 1. button 2. function that will be called if that particular button is active. Then you'd do make_pair and insert them into the map You'll also need calling functions e.g. CallResetFunction, CallFillItemSetFunction (that will look up currently selected button, take the corresponding function from this map and call it)
Populate your function maps of maBox here, with corresponding pointers and Reset_Impl, DeactivatePage_Impl functions (with corresponting <TabPageType> for each button,of course, you can't pass pointers to template function)
Please make this TTabPage, or TabPageType, so that no buggy compiler ever confuses this with vcl::TabPage
And here you will simply call maButtonBox.CallDeactivatePageFunction( _pSet );
the same here, maButtonBox.CallResetFunction( rAttrs);
So this is already going the right way, but you still didn't make this anti-pattern of long chain of if-elseif-else go away ... ButtonBox::SelectButton method can take a pointer or a reference (which you're going to obtain from pButton here) to a button as an argument. The implementation will then take care of finding the matching pointer in the list( use e.g. std::find or whatever appropriate, no for-loops please) and pressing given button
What about disposing also the other widgets you've created in constructor?
The worst possible indentation of switch-case, please change that
This is horrible! Come on, you can do much better making sure that only one button is pressed at time. If you really don't have time to make this a custom widget derived from radio button, at the very least create some struct or class that'll contain a vector of pointers to those buttons as a member variable + some set of methods that'll press the buttons, one at a time
What about some switch-case here?
This whole if-else thing is a perfect candidate for a template function
FillStyle
You sure fixed width is going to work for all locales?
Mhm, just 'UpdateURLField' (I know I suggested this name, but I was wrong :) this is better style)
So the way it is now, this string is not translatable (i.e. it'll always be English) You need to make it translatable by adding it to mediacontrol.src file and then retrieve it using AVMEDIA_RESID macro (look elsewhere in avmedia/source/framework/ folder how's that done)
If at all possible, please move this to the derived class, where it is used. You're not doing anything with this control in the base class, so it shouldn't be here
Perhaps "[No media selected]" would be more appropriate, one should normally see this label only when a media toolbar is set to be visible and no media is selected ... You really don't want users to insert anything here (they should use 'Insert' button for that)
Edit is an editable field. Isn't this meant to be a fixed label that the users actually can't edit? (FixedText is appropriate then) Also, unless you really intend to add URL label to *both* sidebar and toolbar, maybe it's not so ideal to add it to a base class (but to a derived MediaControl class instead)
HID stands for 'help ID' and that is something different than normal string you need in UI Please add the string(s) to mediacontrol.hrc (#define) and mediacontrol.src (actual string) files (in avmedia/source/framework folder) Of course, you may define a new help ID here and assign it to the widget in MediaControl class, but a new HID has to come with a new help text as well ;-)
Use the string from mediacontrol.src file here, as outlined in the other comment
This chunk of code ...
is almost identical to this one. Consider making in a separate private function (that'll take OUString as an argument) and then call it from both places where you need it
So to me, 'page numbers' sounds odd in this context, then again I'm not an English native speaker. 'Page numbering format', if anything ... some better suggestions?
Since this is, if I count correctly, 3rd case of opening an external URL in this class - SID_Q_AND_A, SID_SEND_FEEDBACK and this one - it'd be better to make try-catch block below a separate function that takes (reference to) OUString URL as an argument and actually does the opening. To reduce duplicated code
Ouch, please don't copy'n'paste the code so much (if you look at all the switch-cases you've added, you'll see the code is almost identical and the only difference is URL). Here is what to do instead:
Make this whole block a separate function, for example openURL( const OUString &rURL) ... maybe it can even be a static function ... It will take URL from the passed argument and do this xSystemShellExecute dance with it. Then, you'll just call it in all switch-cases below
So I've been trying to dig this out, but without much success. git log refers to Sun-internal issue so nobody will ever find out what was the original bug.My hunch would be, it had sth to do with dragging an object and not redrawing the background colour where the object used to be. Mentioned in the comment, SdrCreateView::MovCreateObj doesn't execute IsSolidDragging() (without -Now nowadays) anymore (?) so I'd be tempted to remove this code, but knowing that such moves tend to cause regressions, I'd leave it alone :)
So this was my very first solution as well (when I implemented the fix for tdf#87905). However I decided against it, since reading configuration on every repaint brings some performance penalty So I'd fix this in a different way, if at all possible, in particular add some "configuration changed" listener and do invalidate and repaint only iff the colour config changes However, I don't know yet where to add such a listener ...
With less code: long nRotatedWidth = aManager.GetSize().Height(); long nRotatedHeight = aManager.GetSize().Weight(); if (GetSlot == SID_ROTATE_GRAPHIC_180) std::swap(nRotatedWidth, nRotatedHeight); :)) but of course I won't hold the patch back b/c of this
With less code: pBtnOk->Enable( !pEdtName->GetText().isEmpty() && aCheckNameHdl.Call(*this) );
Please mention bug ID here (tdf#10xxxx)
It is a common practice to have those items sorted alphabetically, so please sort it in appropriately
I think the official term for this is "built-in help". "on your computer" is then slightly redundant
Installing packages in a multi-platfrom, multi-architecture environment is a HARD problem, not to be tackled by a beginner. Therefore, pretty please, leave installing packages out and make this a binary choice: "read help online" or "cancel" (i.e. do nothing). That said, remove this label
Please drop this checkbox too. Making the checkbox work (remembering the choice) is less hard problem than the previous one, but still ... ... let's initially make this work in as simple form as possible and once it is done, we can proceed to more complex things
As mentioned above, make this 'Cancel' i.e. a button that'll close the dialog and otherwise do nothing
In general, it is considered bad style to leave commented out code behind. If you're sure no other code uses the class, remove it completely But in this particular case, you shouldn't remove it, see below why
The logic here has now imho changed for the worse. You need to consider 3 cases: 1. User wants to read online help => try to open online help, return true if successful 2. User clicks "Cancel" and wants to be done with it => return false 3. Anything else - online help failed to open, aQueryBox returned unexpected value,... => show NoHelpErrorBox and return false
So what you want to do at this spot is to show your aQueryBox (if the build-in help ain't installed, which is here)
Here you have to take the return value of Execute() method, likely it'll be something like RET_OK or RET_CANCEL (put a breakpoint here and see for yourself what Execute() returns when you activate either one of the buttons)
and if the return value is positive (yes, I want to see help online), you'll call impl_showOnlineHelp (just move the if statement from above here)
Oh, and I'd make this "cancel", "close" would make the user believe the entire Libreoffice window's gonna be closed ... but no strong opinions here really
Uhm, why did you comment this out?
No 'else' here. You want to execute this code also when 'impl_showOnlineHelp' has failed
This whole .ui file looks very odd -- none of the widgets has id. They normally look like this <object class=GtkWindow id="FooWindow"> Did you do some manual changes after generating it with glade? I'm afraid you need to add widget IDs back, the code building the dialog from .ui file requires IDs to be there, otherwise strange crashes happen
This is imho moot, m_fObjectWidth is initialized in ctor and it gets unconditionally overwritten below anyway
I think you went 1 step too far :) fUIScale needs mpView but exists independently of AreObjectsMarked ...
... so perhaps put this assignment outside/before this 'if' branch
You can assign directly: double fUIScale = ((mpView && ... : 1.0);
You can leave 'connection closed' logging here, as now nothing would be logged if this assert triggers
... maybe it has to be done here. Have a look at content of aSet at this point to see if EE_CHAR_BKGCOLOR is there and if so, replace it accordingly
I think this is a wrong place to replace SvxBrushItem w/ SvxBackgroundColor item, since at this point only a style name is known, not its item set (that only happens later, search for pSSPool->Find) ...
This doesn't compile. So either find out why this function isn't available, even though it is implemented -- SdPresLayoutTemplaeDlg::GetOutputItemSet exists (see what this dialog does differently in comparison to others) Or try to get the item you need from aSet (aSet.GetItemState(SID_ATTR_...). I suggest that you use gdb pretty printers (ask me if you don't know where they are) to inspect the item sets. Maybe the desired item is already there ... I don't know, haven't tried :)
You forgot to add <child> <placeholder/> </child> here (for the content of the tab) That might prevent the crash when opening styles edit dialog, but I haven't tried myself
Eh, nope, this is not the right way to do it. Normally you append your SIDs after the last valid SID (SID_EDIT_POSTIT in this particular case) and then adapt SID_SVX_FIRSTFREE to point at now-last item But irrelevant anyway, see the other comment explaning why it is a bad idea to have those slots in svx
This toolbox controller is of no use outside Impress/Draw. Therefore, it should not be implemented in svx, which is reserved for UI code that is needed across all apps. Please move it to sd/source/ui/dlg ... there's couple of tbx controllers implemented there already
I think you can even remove those lines completely, The Right Way TM to do things here is to set initial value via GtkAdjustment (see 'adjustment' attribute referenced 1 line down), but even that might be unnecessary, as the implicit value is 0 anyway
Since you've already assigned a pointer to mpSelectedSheets variable in constructor, you can use it here: mpSelectedSheets->GetText() I'll just amend the patch and merge it as everything else's okay
So with this block removed, a corresponding gradient (if other than Tango Green on pos 0) will never get preselected on initial opening of the dialog Try assigning e.g. Tango Red gradient to a shape. Confirm with OK, shape gets red gradient fill. Open area dialog again and see 1st Tango Green selected => regression I obviously failed to get my point across. When I said "remove m_pPos variable", I actually meant "please make it non-member, it is only used in this function and nowhere else, so local variable will do the trick as well"
I guess we want to preserve this if-block, see comment on the right why It seems to me the correct solution to this problem would involve remembering whether any of preset gradient attributes (colours,transparency,...) has changed. And when the change happens, either remove selection (SetNoSelection) from m_pGradientLB or have some boolean flag (m_bPresetHasChanged ) ...
... and in that case, execute this block. The only thing I would change here is naming the gradient (aString = "gradient" or somesuch)
With this, even preset named gradients ("tango red" etc.) will be unconditionally renamed to "gradient" or variant thereof. I'd rather not do that
i.e. this one. It is mostly pointless member variable, used only in this func and couple of lines below reset to NOTFOUND again
Imo with this nPos becomes unused, and can be removed, it serves no useful purpose anymore (it's just that GSoC student who was working on this code likes to copy'n'paste)
I said nPos, but I actually meant m_pPos (yes I'm getting old)
Now aString remains empty. I've recently fixed tdf#99908 where a gradient with empty name was causing trouble, so ... ... please check that page gradient stays in place after saving to ODF and opening again, and if it does, please remove aString variable
So this will make the command completely unavailable in Tools > Customize, you can't insert it into any menu, for example. What you want to do instead is that you disable assigning kbd shortcut to it. This has nothing to do with groups
Pls use $$(GPG_ERROR_CFLAGS), it is set by configure and points to the same location
comma :) I'd rephrase, something like "The examples below use comma as thousands separator"
It is too late to comment on this, but I have creeping feeling that this might also catch non-GPG certificates that are broken (buildCertificatePath failed for them). In that case we should show the tab with proper error message, instead of failing silently.
Where do those ranges come from? If anything, you may want to have aInputSet ranges copy those of pOrgSet, i.e. pOrgSet->GetRanges; aInputSet.SetRanges
We should do this operation every time i.e. also when we have an outline style (IS_OUTLINE(ePO)). That said, please try to preserve if-else from orig. code (anything else tends to break things unexpectedly) and either do this EE_CHAR_BKGCOLOR vs. SID_ATTR_BRUSHCOLOR substitution before for both, or do it in 'if' as well as in 'else' branch
So this is a good approach but at the wrong place. This will come to constructor of SdPresLayoutTemplateDlg (sd/source/ui/dlg/prltempl.cxx). SetInputSet() call therein is the one ultimately responsible for passing item sets to style tab-dialog You may want to use someItemSet.MergeRange to extend the set's range to accomodate SID_ATTR_BRUSH_CHAR
This could even work ...
... but with SvxBackgroundColorItem instead of XFillBackgroundItem and SID_ATTR_BRUSH_CHAR instead of XATTR_FILLBACKGROUND
Simplified: if (widget->IsSelected() && i > 0)
You can do this: std::swap(maEntries[i], maEntries[i-1]) and that's it, no intermediates needed
if (widget->IsSelected() && (i< maEntries.size()-1))
Here too, std::swap is possible
This works too: maEntries[i]->SetInactive();
Convention: nIndex, nSize (integer variables), bSelected (boolean variable)
"All fields are exported having the same width" or something along that line, slightly more verbose than just "fixed width"
Ah, ignore my previous comment :) Yeah, in this case it'd be reasonable to error out, loleaflet won't build otherwise unless one fetches misc things (browserify, uglify etc.) manually
You can't remove published UNO API, by transitivity you can't remove/rename this file. If you need new API, you need to create a new .idl file
Please don't rename files in this way. If you need a new file, create it and do 'git add'
Are you sure this code can be safely removed?
The same here (don't copy/rename)
The same here (don't rename/copy)
"corrupted"
"The lock file is corrupted and probably empty. Opening the document read-only and closing it again removes the corrupted lock file.
"created" "lack of free disk space" or "no space left on device"
... and related to that, maybe you want to drop 'published' flag here. Once published, for example adding an argument to exception is no longer possible without creating a new exception/new interface, LockFileCorruptRequest2 So unless 100% sure that the interface is stable the way it is, do not publish
One last comment though: this file is not supposed to be updated manually. A batch update is done twice a year, after a new version of LibO is released => please drop this change
"remove" and "erase" are synonyms in English, so it is now unclear what either function does and what's the difference between them. Please choose some other name for the second one. And please also add some doxygen-style comments here
So I'm not sure if removing this is such a great idea. Yeah UseDocumentSystemFileLocking is set to true by default, but we never know who has set it to false and this change has a potential to explode in such case
Functions with bool arguments like this make code somehow less readable, it is totally non-obvious what ShowLockFileProblemDialog(true) and ShowLockFileProblemDialog(false) does. In ideal case, you should use some enum { LockFileIgnore, LockFileCorrupt} as an argument
bCancel + I'd use reversed logic (given that you're returning !Cancel anyway)
bIoErr
Sorry for my ignorance but how's (bLoading && !bNoUI) equivalent to (bUseSystemLock || !IsOOoLockFileUsed) ?
and this is equaly sub-optimal design w/ bool arguments
"... file location or lack of free disk space" ('or' missing)
... when reading it fails and skip "Locked document dialog" in that case
when creating lock file is not possible
Two dialogs: "lock file create error" and "empty lockfile is present"
Set the document to read-only when creating lockfile is not possible. If lockfile is corrupt or empty, inform the user. They can interrupt loading the document or open it read-only, which also erases the corrupt lock file after closing the document
... for create lockfile error
(lock file is corrupt)
I guess this ain't the case anymore ;)
"if current user is the owner"
s/without test/unconditionally/
"Is used for interaction handle to query user's decision when the lock file is corrupt" (LockFileIgnoreRequest.idl isn't written any better, to be honest)
"when system locking is enabled"
bReadOnly
Pls remove the commented-out code, unless it is relevant to the current code in some way
This used to be called in destructor (before it's been removed) any specific reason why you've moved it to dispose()?
I understand now *facepalm*, by the time dtor is called those widgets no longer live and thus an attempt to get their values must necessarilly fail
I'd add some SAL_WARN etc. here. Deleting all bitmaps is sufficiently odd corner case, but if we'd get into this situation by some other means, perhaps it's better to have some tracing/logging/warning about that
Now you can remove this line as the button will be eventually hidden (if applicable) by the code you've just wrote
Move this up into 'if (pMainViewShell)' branch above, as you can see pMainViewShell can be null and in that case this code would crash You can also integrate it w/ the code therein. For example it make senses to populateMasterSlideDropdown and preselect some entry only if EditMode::Page (not MasterPage)
Well, now the type of application is queried every time an event comes ... that is, for some events, every 10 seconds ;-) Anyway ... maybe you can initialize maApplication in HandleContextChange ... or maybe you can drop it altogether, maContext.meApplication has the necessary information, so why have it duplicate?
Nitpick: it's tdf#XxYyXz, not #iXxYyZz#, which makes people believe it is AOO bugzilla issue, which it isn't
Patch Set 2: Code-Review+2 Verified+1
Patch Set 1: Code-Review-1 Don't merge this yet, guys. The kid is 13ys old and the license question isn't clarified yet (has to go though a parent, presumably)
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 6: Hi Gabor, are you still working on this easy hack? Finishing it (or at the very least, making it build as Eike suggests), not to mention coming up with follow-up hack for Writer code to make it consistent across the apps would improve your GSoC chances
Patch Set 10: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 4d000e85633c8e97e73bfc68a128dd7bea31223f
Patch Set 2: Verified+1 Code-Review+2
Change has been successfully cherry-picked as 79156011a5fb4383a6b61aa0590d52c24ad6b154
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 3: Code-Review-1 (2 comments) See inline comments in the code ... I can't really verify if the patch builds (it applies smoothly, though) and I've no clue why CI bot doesn't like it.
Patch Set 4: (1 comment)
Patch Set 6: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 3feb370bc82dedfd7dc281aecf8dd670176e52ff
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 1: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 5a5c9d0fa42201d0fbec2670f097f00a8ff91d2c
Uploaded patch set 1.
Patch Set 1: Code-Review-1 -1 for the time being, needs more work
Uploaded patch set 2.
Change has been successfully pushed.
Patch Set 5: (1 comment) You've correctly extended UNO document settings, but I don't see any changes to ODF import and export code (as suggested here: https://bugs.documentfoundation.org/show_bug.cgi?id=62957#c3). This way the changes will not get saved to .odp file (not to mention other formats, such as .pptx, but that's prolly beyond the scope of easy hack) Or is this still work in progress?
Patch Set 6: My bad, sorry about that (I read the bugzilla comments without actually trying and poking at the code) ... But actually, the fix for this will be even more straightforward. The position of last selected slide is already saved into ODF, it is "SelectedPage" property, you can find it in settings.xml. Looks e.g. like this: <config:config-item config:name="SelectedPage" config:type="short">2</config:config-item> So, there is no need for you to create an extra setting in UnoDocumentSettings for that, you now only have to figure out why is this setting not used then the document is being loaded (hint: frmview.cxx, look for "sUNO_View_SelectedPage")
Patch Set 6: I still don't like introducing a new document-wide UNO setting when we already have a setting in ODF format doing exactly the same ... Anyway, I did some git archaeology and found out that this "Impress always opens on 1st slide" is an artificial restriction imposed by a design document + OOo feature request from 2005 (https://bz.apache.org/ooo/show_bug.cgi?id=50902) Moreover, keyboard accelerator listed therein (Shift-F5) that was supposed to be used to jump to the last edited slide (the one saved as SelectedPage) no longer works, since it is used for different purpose now (start a slideshow from current slide) So I think this restriction (always open on 1st slide, unless the presentation is an embedded OLE object) can nowadays be removed and that should be the way to fix this issue. I.e. removing this 'if ...( SFX_CREATE_MODE_EMBEDDED == pDoc->GetDocSh()->GetCreateMode()' condition when reading SelectedPage setting ... unless it crashes Impress or cause other nasties ... Anyway, I'm adding Thorsten to Cc: to get a second opinion on that ...
Patch Set 2: Code-Review+2 Verified+1
Change has been successfully cherry-picked as cacc3a0e7f7b04240daf63b45e457428388f4929
Uploaded patch set 1.
Patch Set 2: (3 comments)
Patch Set 1: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 56e0afabbadf0c4cd2a83df34fe69efc874dd6a2
Patch Set 1: (2 comments)
Patch Set 1: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 39e9e3ee8369eeb00025291e637f0bb2a8f87ed2
Patch Set 1: Code-Review+2 Verified+1
Change has been successfully cherry-picked as cf5a2811bbf5c013da3c6421ecb013137b2cc595
Patch Set 3: (1 comment)
Patch Set 5: Code-Review+2 Verified+1
Change has been successfully cherry-picked as d0cfd49dc530574cbbc0a95c173de8936bc9c8ca
Patch Set 1: Code-Review+2 Verified+1
Change has been successfully cherry-picked as dd1ef615c0a56e8c7e92cfe0293c9770b72bddf3
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Change has been successfully cherry-picked as 3aa96e9f478a7549e04658dc4db234bde63603ea
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Don't merge this, I just want to test if it builds
Patch Set 1: Code-Review+2
Change has been successfully cherry-picked as 1386c348f81738a9966d1217db89d1f603466317
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: I'm requesting backport of this feature to 4.3. As rightfully pointed out in 4.4 code review (https://gerrit.libreoffice.org/#/c/11495/), since LibO 4.3 and older can't read edit password from ODF container (settings.xml, ModifyPasswordInfo), it simply ignores the setting and allows opening edit password-protected documents without actually entering the password.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Doesn't work fully for Draw yet - doc is saved w/ edit password OK, then opened read-only, but the button to edit document ain't displayed yet.
Uploaded patch set 2.
Patch Set 3: Yes -- backport the code, or at least its relevant part, to 4.2. To be able to read, prompt for and use modify password, Impress/Draw code must read the appropriate data from ODF container - ModifyPasswordInfo bits from settings.xml. And since 4.2 Impress/Draw doesn't have that functionality yet (this is only added with my change to UnoDocumentSettings.cxx), it simply ignores the existence of modify password and allows user to edit the document w/o entering one. Otherwise, password protection created in 4.4 and newer will be null and void when opening such document in 4.3 and older
Patch Set 3: I wouldn't add such message (warning users that the document they're about to save might not be opened with older versions of %PRODUCT) -- unless there's a couple of precedents of doing it already elsewhere in LibO. I don't know about any ... Such messages, imo, add little value and largely only annoy the users. What certainly should be done is documenting this limitation in release notes.
Patch Set 3: Code-Review+2 Verified+1
Patch Set 4: Patch Set 3 was rebased
Patch Set 4: Code-Review+2 Verified+1 One more try ...
Change has been successfully cherry-picked as d311d85a4d501a0bfef20e610169f20de896a167
Uploaded patch set 1.
Patch Set 1: The change in tp_PointGeometry.cxx is enough to prevent the segfault and should therefore be merged. The rest is just sugar on top - hiding irrelevant widgets that do nothing in the affected tab page, thus fully restoring pre-.ui migration state of things. It doesn't necessarily need to be merged to 4.3, should it be regarded as too intrusive.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review-1
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Work in progress
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 5: Commit message was updated
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 9.
Patch Set 9: Okay, I'm undo-ing 'work in progress' status. It's not that there ain't more work to be done, it's just that I don't know the code well enough to do it. Now the converted dialog opens & displays something. Not everything and not in correct size I assume all those AdjustDlgSize, InitControlAndDlgSizes, MoveWndDown etc. methods, simply everything that sets widget size/position can be ditched and GetOptimalSize methods shall be implemented for every custom widget. Unfortunately (due to my lack of familiarity w/ pivot table code), I've no idea what those sizes should be
Patch Set 3: (5 inline comments) see inline comments
Patch Set 2: Verified (2 inline comments) 
Uploaded patch set 1.
Patch Set 1: Hullo guys, don't merge this yet, I've few pending changes to this (implementing suggestions from ODF-TC member)
Uploaded patch set 2.
Patch Set 2: The following suggestions from Regina Henschel are now included: * Implement tag as <text:page-name> (in contrast to <presentation:page-title> in the original proposal) * Placeholder string is now <slide-name>, <page-name> respectively (i.e. different for Impress and Draw) in contrast to original <title>
Patch Set 2: > thanks for working on this; it's looking fine; > the only issue is that the commit does add 2 new en-US strings It does, I'm well aware of that, also of the fact that the strings aren't going to be translated. However, they're only used as placeholders for export (and in master view, but come on, how many users will see them there?) > the feature as currently implemented should not be in the 4.4 > release, > inserting fields that cannot be stored is utterly pointless It is. Some LibO hackers with commit rights sometimes go around and merge patches to the code they have almost no clue about. And then other LibO hackers advertise such half-baked features in release notes. > - but adding new strings is not allowed now, not sure > what to do? can the new strings be avoided for 4.4? Either use English strings directly in C++ code (but that doesn't change the user experience, there will English strings either way), or see below: > also when i try it i get this in the file: > > <loext:page-name>&lt;slide-name&gt;</loext:page-name> > > i think the field text should be the same as in the document > display, i.e. the character content should be "Slide 1" <slide-name> is a placeholder and it'll be substituted by real slide name after import, during rendering. I've looked at what other fields do and some (e.g. page number SvxPageField) don't save the real content of the field either, but use a placeholder. So I did the same. For this particular 4.4 backport, we could maybe save the slide name as character content. That would nicely bypass the problem of new (and untranslated) English strings
Patch Set 2: l10n list has been notified about the possibility of new translatable strings added to 4.4: http://listarchives.libreoffice.org/global/l10n/msg08919.html and they approve of the change:http://listarchives.libreoffice.org/global/l10n/msg08920.html so if there are no other objections, I guess we can merge this patch as-is
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 7: (1 comment)
Patch Set 5: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Change has been successfully pushed.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Don't merge yet
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4: Patch Set 3 was rebased.
Change has been successfully pushed.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 2: This is (apart from being 4.4 MAB) a feature. It'd be really awesome to have it in 5.0, it's long overdue as it's been advertised as 4.4 feature already, but without UI it was of very little practical use (thus MAB status)
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: (1 comment)
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Some things I'm not so sure about in this patch * Getting mColor member variable from parent class (SvxColorItem::GetValue,::SetValue) all the time is maybe a bad (clumsy) style. Is it better to make it protected in SvxColorItem? Or introduce a private member variable also in SvxBackgroundColorItem? * I reused MID_GRAPHIC_TRANSPARENT as member ID, although it strictly speaking belongs to SvxBrushItem (and text background colour doesn't use that one). Should I add a new member ID specific to SvxBackgroundColorItem to reduce possible confusion?
Uploaded patch set 2.
Patch Set 3: Commit message was updated
Patch Set 3: (1 comment)
Uploaded patch set 4.
Uploaded patch set 3.
Change has been successfully pushed.
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 4: (1 comment)
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Change has been successfully pushed.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3: Patch Set 2 was rebased.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Abandoned Fixed elsewhere, see 07602e5a8b869be1c45158cf71d6015d17a5f797
Patch Set 1: Code-Review+1
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 4.
Patch Set 4: Code-Review-1 Don't merge this yet (and I mean it) ... now the two scenarios from commit msg work, but a regression has crept in: * go to Writer -> Format -> Page * select page format and orientation, if possible a different one than the default in your env. * File -> Print -> Properties now shows those values (and not the default values from the printer) * Change orientation to the opposite one (landscape if you have portrait, portrait if you have landscape), save * Revisit Properties * Howl, because the page orientation doesn't stick and it returns back to whatever is in the document
Uploaded patch set 5.
Patch Set 5: Code-Review-1 Still don't merge
Uploaded patch set 6.
Patch Set 6: This is as good as it gets. Can't do better. One more follow-up patch to go
Uploaded patch set 1.
Patch Set 1: 5.0 doesn't build with --enable-kde4 without those two commits
Patch Set 1: (1 comment) Regarding git commit format, please try to stick to some general rules i.e. try to put bug no. into commit subject and refer to bug by using appropriate bugzilla reference (for bugs.documentfoundation.org use tdf#12345 reference) Except for the objection I have in inline comment, the code's in general okay, it is functional and it fully meets the criteria for non-trivial easy hack for a GSoC candidate. But - I honestly have some trouble understanding the purpose and the meaning of the original bug, more specifically what usability improvement is a fix of it supposed to bring :-| After addressing the inline comment (about the placement of the new method) I'm gonna give you a greenie, but only +1 instead of +2. I'd like someone else to approve, because as I said, I can't really wrap my head around the bug report
Patch Set 2: (1 comment)
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-0 as commit 274a956bb33c767f54f02faacd193fc2acd0a11f
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: > How does this handle import and export? Is there some magic > invloved? Through settings.xml part of ODF container, all those properties in confuno.cxx get saved/loaded from there.
Patch Set 1: (1 comment)
Uploaded patch set 2.
Patch Set 2: There ... I've discussed this issue with so many people over and over again that I no longer know how this thing should behave myself. Bummer.
Uploaded patch set 3: Patch Set 2 was rebased.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Abandoned Erhm, I wanted to amend the other patch, grr
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: I was totally unsure how to implement this. I tried to reuse some of the existing code dealing with extLst, but to little or no avail, since it was conditional formatting-focused and specific to worksheet fragment I also didn't know what's the preferred way to save enum values so I made them to ints, like in ODF code (maybe some tokens would be better instead?)
Uploaded patch set 2.
Patch Set 2: Using tokens now, lo namespace is still to-do
Uploaded patch set 3.
Patch Set 3: loext namespace's in now, the URL is very uninspired, couldn't think of anything better. I've put only the tag (extCalcPr) into the namespace, not the attribute (stringRefSyntax) ... wasn't sure if that's necessary too + wouldn't really know how to do it anyway
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: This patch changes the default evaluation mode for INDIRECT (which now accepts both Calc A1 and Excel A1), so I had to adjust the unit test :(
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 1: Any unit test for this, if applicable?
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: (1 comment)
Patch Set 4: Code-Review+2
Patch Set 1: (2 comments)
Patch Set 2: (1 comment) Small nitpicking, but I'll just amend the patch
Uploaded patch set 3.
Change has been successfully pushed.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Code-Review+2 Verified+1 So the visual artifacts (white text background, coloured frame around a widget after removing focus) are gone and the existing listboxes look larger, but not remarkably so, so let's ship this. However, it is maybe worth further investigation (when we have some time to kill i.e. never :) ) why Base draws smaller-than-normal size listbox -- maybe it squashes it down artificially.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Guys, don't merge yet, I want Jenkins to build it + need to write a test for this
Uploaded patch set 2.
Uploaded patch set 3: Patch Set 2 was rebased.
Change has been successfully pushed.
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Fixed by Caolan in the meantime: http://cgit.freedesktop.org/libreoffice/core/commit/?id=b27417623835b1c82475783979a1fb9656b5155e
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 1: Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: > We use just SCA_VALID as the flag for rRange.Format in the dialog > constructor, but then use ABS_DREF (which adds the > SCA_COL/ROW/TAB_ABSOLUTE flags) in SetReference. I'm not entirely > sure what the implications of not showing the absolute references > there would be yet though. Or maybe do it the other way round -- use the absolute reference all the time? Just thinking ...
Patch Set 4: (6 comments)
Patch Set 6: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Patch Set 1: (4 comments)
Patch Set 7: (3 comments)
Patch Set 7: (3 comments) Dropping some notes how to adjust the code after some larger refactoring's been merged this morning. Please test it still works after that.
Uploaded patch set 10.
Uploaded patch set 11.
Patch Set 11: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Code-Review+2
Patch Set 2: Ah, nice to see some1 picked up my easy hack :) Please add bug ID to the commit msg (you may also assign the bug to yourself so that no one else picks it up)
Uploaded patch set 4.
Change has been successfully pushed.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: yes I'm going to write a test for this :)
Uploaded patch set 2.
Patch Set 2: Oy, here comes the unit test and it is so damn good :D that it actually finds the fix here is not enough -- it only stops the bleeding in a sense it fixes the export. Roundtrip (save - open -save) still fails, so there must be another problem either in import or elsewhere in export.
Uploaded patch set 3.
Patch Set 3: Here's a new one, it's as good as it gets. However, there's a corner case that is not fixed by this patch -- when a textbox contains a standalone text field and no additional text, it will get lost on roundtrip (that's why the testcase document is not like that) I've been trying for some 2 weeks already, but I've been simply unable to get the expanded text of the field out of the depths of editeng. Someone else has to do that. If this fix is otherwise acceptable, I'd push it even without handling the corner case. It stops the bleeding and helps the users. Full stop.
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 1: Actually this isn't necessary if the dir with custom branding is flat (i.e. there's no shell subdir, all images are in $custom_branding/ top-level dir) ... ... but then it is inconsistent w/ the structure of default branding, one has hard time figuring out why the custom branding image is not being found
Abandoned bad idea
Uploaded patch set 1.
Patch Set 1: I'm kinda reluctant to merge this and it ain't because of the code. The proposed design looks wonderful on the paper, but transfer that to the real app on a real screen and the strings in arrow combo boxes come out cropped (in English, not to mention some more verbose languages), which doesn't look so very good Sadly, I have preciously few proposal how to improve
Uploaded patch set 1.
Patch Set 3: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Don't merge yet, I'll add some tests. But feel free to comment
Patch Set 1: I dunno if this documentimport guy is the best place where to place such a functionality, but I couldn't find a better one.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: Verified-1 > I'm not happy with placing it into ScDocumentImport. That class is > used for possibly all imports and not just ones where we want this > behavior Sure I'll move it, I want to set the unit test straight first. Still -1
Uploaded patch set 4.
Patch Set 5: Patch Set 4 was rebased
Patch Set 5: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > The preview width is fine now, but the line seems crisp in other > previews (1px height) and blurry here (1/2px above and 1/2px > below). http://www.picpaste.com/line_arrow-WHe8TQ6g.png Can't influence that, sry. This is how line bitmap looks
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: Hm, any other creative ideas, where, for the case of ODF import, to place the code then? So that the idea behind it (set CalcA1|ExcelA1 syntax if and only if the imported ODF document doesn't contain any) still holds? ScDocumentImport is not it, I tried that initially and moggi didn't like it :)
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 5: So I put it somewhere where I think some kind of finalize phase of ODF import is ... not sure if that's right
Uploaded patch set 6.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 2: > Patch is good, but do we really want the mixed mode in new > documents? > Patch is good, but do we really want the mixed mode in new > documents? No no no, this is not what this patch is supposed to do. I screwed that up with "mixed mode for the new docs" and tried to fix it in commit ff422a93f945a1d0ee52621495fbc7a58e3daac4 + the other 5.0 gerrit review entry. It should handle the foolowing issue: if the user goes to tools > options > * > calculation settings and (consciously) selects CalcA1|ExcelA1, it (unlike the other values) never gets saved as a global setting into the user's profile. Only into the document, as the relevant case in switch statement is simply missing and default value is used I thought this code path is executed when reading/writing configuration only ... or did I miss something?
Uploaded patch set 3.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: I'm totally unsure if I got this right, especially saving formula options part. What I wanted to do is this: if mbCurrentDocOnly is true, don't overwrite values in the user's profile (only into the document ... export code takes care of that) But I couldn't figure out how *not* to write values for certain properties as those are written out in a loop that takes all of them. So I'm writing an old value in such case ... any improvement suggestion appreciated
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 1: > (1 comment) > > Would be great to mention tdf#85767 in the commit message. Heh, didn't even know (before posting this patch) there's a bug about that .. I only fixed what people complained about on LibO Con > Regarding flipping: Take a look at how is this implemented in > ToolBarManager::statusChanged (You have to watch for > .uno:ImageOrientation status updates). Will make a follow-up patch outta that
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: (1 comment) I didn't read PPD file spec, but I assume you did and we can be sure that those group names are not translatable and they'll be the same in every locale.
Patch Set 2: Code-Review+2
Patch Set 1: (4 comments)
Abandoned Superseded by this guy: https://gerrit.libreoffice.org/#/c/19565/
Uploaded patch set 1.
Patch Set 1: Code-Review-2 This is not meant to be merged. I'm just having Jenkins build it
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Abandoned Unclear if we ever want this one for customer's 5.0. We can always resurrect it, if yes
Uploaded patch set 1.
Patch Set 1: > Do we really want to save the mixed behavior to configuration > without the possibility to say "this document only" which we have > in master? Hm, if the user wants to have it like that ? I thought (and you more-less confirmed that) for this code path to be actually taken, the user has to go to the relevant Tools > Options dialog and save the config ... It then feels somehow inconsistent that the other 4 options (same as formula syntax, CalcA1, ExcelA1, ExcelR1C1) can be saved as a global value and this one can't. But I don't feel strongly either way. It was mostly LHM guys who wanted this.
Patch Set 1: > > But I don't feel strongly either > > way. It was mostly LHM guys who wanted this. > > For the "we have many mixed mode documents" case, understood. > Do they actually plan to switch to 5.0.x at some point? > I'm also quite unbiased on this, so if we want it in we can. Yes, LHM plans to switch to 5.0 eventually. They've lots of legacy documents where mixed mode is an useful thing to have. However I'm abandoning this one (we can always resurrect it, if needed), as it is totally unclear if "this document only" switch is going to stay in master or if it will be replaced with something else as LHM is not very happy with it anymore.
Abandoned
Uploaded patch set 3.
Change has been successfully pushed.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Guys ... don't merge, just review. Test's coming next
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 1: > Thought it might worth it to cherry-pick it in 5.0 branch :-) I hope someone tested it actually works :D
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Don't merge. Horrible boilerplate code, needs polishing
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 3: Cherry Picked This patchset was cherry picked to branch libreoffice-5-0 as commit 57bcd806a2ec1030078d2f51b7a8053807be5c77
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: @Oliver: could you have a look at this one? You know much more about SfxItem* than I do ... thx
Patch Set 1: > Looks good to me. > Now the char background color feature itself needs to be fixed. At > least on my ubuntu 14.04 the background is often not shown while > editing the text. Like this, or is it yet something else: https://bugs.documentfoundation.org/show_bug.cgi?id=92206 ?
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: > Should we also unify .uno:CharBackColor (the one from tdf#88276) > with this? Right now it is called "Text Background Color". Absolutely > Another thing to consider is the label "Highlighting Color" under > the "Highlighting" tab in the Character dialog. and change it to what? Highlight color?
Patch Set 1: Code-Review+2 Lemme merge this, I'll made a separate patch for CharBackColor stories
Patch Set 3: Code-Review+2
Patch Set 7: Code-Review+2
Patch Set 2: Commit message was updated
Patch Set 2: Code-Review+2 Verified+1 Approved, tweaked the commit msg slightly so it matches some common LibO commit style
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: /me is goin' to write a test for this, but it's gonna be more code, so likely in a separate commit
Patch Set 1: I don't like where the new icons live so much although I understand the motivation (no need to do the .src|.hrc dance) cmd/ subdir should really be reserved for icons that map to UNO commands. Presumably those icons are specific to sd, so galaxy/sd/res would be a more appropriate place for them
Patch Set 1: Code-Review+2
Patch Set 4: My knowledge of svg is insufficient to competently decide on this patch, so I've added Christina, as it was originally her code ...
Uploaded patch set 2.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Abandoned Ah drats, wanted to update this one and pushed a new one instead. (sh)it happens
Patch Set 1: Did I miss something, or what's the point in making only some of those names shorter and only for English if they are going to be translated anyway and every single one of them will presumably come out in different length in different languages? Thus, the real problem (images with long captions looking ugly in UI) will remain, it will only be invisible in English locale.
Uploaded patch set 4.
Change has been successfully pushed.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: As far as I can see, those 'text' attributes of GtkSpinButton aren't even read and initial values are taken from widget id (the part behind colon) ... so you can as well go ahead and remove them
Patch Set 2: Code-Review+2
Patch Set 1: This is presumably for tdf#92925? Would be useful to mention it in commit msg for reference
Patch Set 3: (2 comments)
Patch Set 8: (2 comments) More comments to come ...
Patch Set 11: (4 comments) I'm relatively happy with this one + it seems to work reasonably, so let's get it in ASAP so the users can actually use and test the code and find the bugs, if any
Uploaded patch set 12.
Uploaded patch set 13.
Uploaded patch set 14.
Patch Set 14: Code-Review+2 Verified+1 Let's get those guys finally in
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 6.
Patch Set 7: Patch Set 6 was rebased
Patch Set 7: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 2: Code-Review+2 Verified+1
Patch Set 1: Maybe you could amend/update the previous patch (https://gerrit.libreoffice.org/#/c/20128/) in contrast to submitting a new one? But I defer to Writer maintainers
Patch Set 1: (6 comments) I'm not happy with the fact that this patch fixes two different issues. I'd very much prefer it to be split up into two (1 patch, 1 issue), but I know I'm late to the game (sorry 'bout that, it somehow went past me) and the patch is in master already. However I'd still like to see at least some of the issues I pointed out in inline comments fixed for 5.0 and "forward-porter" :) to master
Patch Set 4: First off, I apologize for being overly eager to kill evil macros -- the reason I did that was that I didn't see it in its entirety. This is what I saw: (( bCheckDirect && GetPropertyAndState( rXPropSet, rXPropState, #propName, eState ) && eState == beans::PropertyState_DIRECT_VALUE ) and this is what it really is: (( bCheckDirect && GetPropertyAndState( rXPropSet, rXPropState, #propName, eState ) && eState == beans::PropertyState_DIRECT_VALUE )||GetProperty( rXPropSet, #propName )) i.e. I didn't see what's behind ||
Patch Set 4: (continue) so it seemed to be the same as GETAD macro + 1 bool variable i.e. slightly redundant ... Given that, it is absolutely okay to have CGETAD macro around (it actually *increases* the code readability), maybe simplify it like this: #define CGETAD(propName) \ ( bCheckDirect ? GETAD( CharUnderline ) : GETA( CharUnderline ) ) but that's the matter of taste
Patch Set 4: And then please fix the commit message to match the original one :)
Patch Set 6: Code-Review+2 Verified+1
Patch Set 1: > However I think we need a test for it. I'll add bubli as additional > reviewer. We already talked about test w/ roses, the trouble with export tests is that they require working import, which, in this particular case, we don't have yet (something works, but not everything, it needs to be reviewed and extended).
Patch Set 1: Code-Review+2
Patch Set 4: Code-Review-1 (5 comments) Preliminary comments, more to come: This patch contains lots of (imho unnecessary) whitespace changes. Please remove those unless you have a very good reason to do otherwise
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: (1 comment)
Patch Set 2: (6 comments) After picking the nits I pointed out :) I'd have no objections to merging this, but let's make sure that (at least) ODF export and import is done before I do so. It is important that the users can save and load documents making use of this feature (otherwise it's kinda useless :))
Uploaded patch set 1.
Patch Set 1: A different take on tdf#86784 -- as suggested in tl;dr bug comments and now abandoned gerrit patch, this one creates an overloaded bootstrap() method taking String[] as an argument. It's not that I'd know exactly what I'm doin' so any improvement suggestions appreciated I've added getDefaultOptions public method, so one can use it like this: List list = Arrays.asList( Bootstrap.getDefaultOOoOptions() ); list.remove("--nologo"); list.add("--headless"); (that's something a bootstrap connector of NOA, whose sources are kinda lost, used to do)
Patch Set 1: Also, are there any unit tests for this stuff so I can add one? Where?
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: (3 comments)
Patch Set 1: Code-Review+2
Patch Set 1: > > Hopefully benign, since a simple addition - would be good to have > > in -5-0 though, otherwise bootstrapping via in-tree JARs suddenly > > loses features ... > > What feature loss? It's not feature loss in LO core, but in library using it (noa-libre). It used to have its own bootstrapping mechanism, which wasn't working with new LO anymore, so I killed it in favour of javaunohelper bootstrap. It however used to have the feature of passing custom options to bootstrapped soffice, which core LO didn't have until this commit.
Patch Set 1: (8 comments)
Patch Set 1: (2 comments)
Patch Set 3: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: (1 comment)
Patch Set 1: Code-Review-1 (1 comment) Did you implement ODF export only, or did I miss import somewhere? Either way, the same what I said to ODF export is true for import, until the attribute is approved by ODF-TC, you have to import from draw/presentation namespace AND loext namespace at the same time.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Don't merge yet, guys, I need to verify nothing else breaks.
Patch Set 1: > The reason it was done that way (by me) is that the toolbar button > is a split button (i.e. it can be clicked on the button *or* on the > dropdown part), so it's possible to apply the last used color > easily. So the toolbar button shouldn't update with the current > color, but instead show the last used one. Uhm, I get the split button part (and I kept it in place), but I'm slightly challenged with what's the desirable behaviour supposed to be otherwise 1. Sidebar and toolbar colour buttons don't update each other and at any time, they can contain totally disjunct sets of colours (status quo, almost) 2. Sidebar and toolbar colour buttons are in sync, any time colour in sidebar changes, corresponding toolbar button is updated and vice versa 3. Sidebar updates toolbar but not the other way round 4. Toolbar updates sidebar but not the other way round I don't want to step over conscious better design decisions, so the new text background colour button needs to follow the same path, whichever of the above it is
Patch Set 1: Let's move the discussion about what desirable behaviour is to bugzilla
Patch Set 1: Code-Review+2
Patch Set 2: (3 comments)
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Code-Review+2
Patch Set 2: It's rather unfortunate that this patch uses MM descriptor struct, but it is only introduced in patch 3 ... so it can't really be built separately
Patch Set 2: Verified-1 Ignore me, it was the other descriptor struct ... In other news, I must be missing something when I don't see the rationale behind creating a separate MergeMailPrinter method. Large parts of it are verbatim copied from MergeMailFiles, including the comments. In other words, the difference is imo too small to justify a separate method. I know it's hard to reduce copy'n'pasta code when the difference between the two methods is only in small details. But now when something needs to be changed in shared parts of the code, it has to be changed in two different places, that's a nightmare for maintenance.
Patch Set 2: -Verified Eh, bad hair day
Patch Set 2: (6 comments)
Patch Set 3: Commit message was updated
Patch Set 4: Code-Review-1 I'm sorry, but the patch doesn't work in Linux In keyboard config dialog, I see both Ctrl-less and Ctrl-greater assigned to actions (good), but with English keyboard, none of those actually work (bad). With German keyboard, only Ctrl-less does. => the trick with the test if Shift key is activated must be done in Linux code too. Lemme know if you need any help w that
Patch Set 1: Code-Review-1 I'm sorry, but this is not the right fix either. It'll make LO leak VclPtrs to dialogs loaded from .ui files (in other words, ~all dialogs), that's not so very usefl
Patch Set 1: > I has set the patch to abandon, while i found the reason patch, but > when this patch not right, then my other fix (20971) resolved the > CRASH. The other patch is a better approach, but you need to somehow untangle those messy parent-child window relationships further. As you can see in Window::ImplInit, mpBorderWindow is a parent of this window. Moreover, mpClientWindow member variable of mpBorderWindow points to this window too. So by doing mpBorderWindow.disposeAndClear(), we're effectively ending up calling dispose() on this window recursively. Or so it seems. Unfortunately, I've no immediate remedy or creative idea how to fix the issue once and for all, without causing regressions. Maybe have a look at Window::SetBorderStyle, that makes some attempt to break the window relationship in a way.
Patch Set 3: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 8: (2 comments)
Patch Set 10: Code-Review+2
Uploaded patch set 1.
Patch Set 1: It's not that I'd know exactly what I'm doing here. I was getting the following valgrind trace ==21990== Use of uninitialised value of size 8 ==21990== at 0xB959F2F: vcl_crc64 (checksum.cxx:140) ==21990== by 0x26335308: vcl_get_checksum(unsigned long, void const*, unsigned int) (checksum.hxx:85) ==21990== by 0x26336363: SalBitmap::updateChecksum() const (salbmp.hxx:105) ==21990== by 0xB822BFC: SalBitmap::GetChecksum(unsigned long&) const (salbmp.hxx:77) ==21990== by 0xB822B1B: ImpBitmap::ImplGetChecksum() const (impbmp.cxx:98) ==21990== by 0xB7AD246: Bitmap::GetChecksum() const (bitmap.cxx:293) ==21990== by 0xB7B7476: BitmapEx::GetChecksum() const (bitmapex.cxx:311) ==21990== by 0xB95C0B7: Image::Draw(OutputDevice*, Point const&, DrawImageFlags, Size const*) (Image.cxx:242) ==21990== by 0xB750E2D: OutputDevice::DrawImage(Point const&, Size const&, Image const&, DrawImageFlags) (bitmap.cxx:1325) ==21990== by 0xB750D38: OutputDevice::DrawImage(Point const&, Image const&, DrawImageFlags) (bitmap.cxx:1309) ==21990== by 0xB5F2D66: ToolBox::ImplDrawItem(OutputDevice&, unsigned short, unsigned short, bool, bool) (toolbox.cxx:3211) ==21990== by 0xB5F6302: ToolBox::Paint(OutputDevice&, Rectangle const&) (toolbox.cxx:4137) ==21990== by 0xB4AF28F: PaintHelper::DoPaint(vcl::Region const*) (paint.cxx:306) ==21990== by 0xB4B0717: vcl::Window::ImplCallPaint(vcl::Region const*, unsigned short) (paint.cxx:607) ==21990== by 0xB4B01F7: PaintHelper::~PaintHelper() (paint.cxx:545) Now I don't anymore. The following it still printed to the console though: warn:legacy.tools:23097:1:vcl/inc/svdata.hxx:398: object deleted while in use ! So I totally don't know if this fixes anything
Patch Set 1: Ah crap, here's the correct (buggy) Valgrind trace: ==23097== Invalid read of size 8 ==23097== at 0xB4B6F3A: rtl::Reference<VirtualDevice>::clear() (ref.hxx:153) ==23097== by 0xB4B6C14: VclPtr<VirtualDevice>::disposeAndClear() (vclptr.hxx:204) ==23097== by 0xB73A807: OutputDevice::dispose() (outdev.cxx:269) ==23097== by 0xB610DCA: vcl::Window::dispose() (window.cxx:581) ==23097== by 0xB5CDF72: SystemWindow::dispose() (syswin.cxx:125) ==23097== by 0xB5434A2: FloatingWindow::dispose() (floatwin.cxx:234) ==23097== by 0x88FAA20: SfxPopupWindow::dispose() (tbxitem.cxx:981) ==23097== by 0xB73A487: OutputDevice::disposeOnce() (outdev.cxx:202) ==23097== by 0x88FAF7D: SfxPopupWindow::Delete() (tbxitem.cxx:1131) ==23097== by 0x88FAC4C: SfxPopupWindow::Close() (tbxitem.cxx:1034) ==23097== by 0xB4C1BFF: ImplStdBorderWindowView::Tracking(TrackingEvent const&) (brdwin.cxx:967) ==23097== by 0xB4C6079: ImplBorderWindow::Tracking(TrackingEvent const&) (brdwin.cxx:1857) ==23097== by 0xB60518C: vcl::Window::EndTracking(TrackingEventFlags) (window2.cxx:368) ==23097== by 0xB62C7C7: ImplHandleMouseEvent(vcl::Window*, MouseNotifyEvent, bool, long, long, unsigned long, unsigned short, MouseEventModifiers) (winproc.cxx:729) ==23097== by 0xB6338EC: ImplHandleSalMouseButtonUp(vcl::Window*, SalMouseEvent*) (winproc.cxx:2089) ==23097== by 0xB631FF7: ImplWindowFrameProc(vcl::Window*, SalFrame*, unsigned short, void const*) (winproc.cxx:2436) ==23097== by 0x262C8120: SalFrame::CallCallback(unsigned short, void const*) const (in /build/libo-work/instdir/program/libvclplug_genlo.so) ==23097== by 0x26347F4B: X11SalFrame::HandleMouseEvent(_XEvent*) (salframe.cxx:2809) ==23097== by 0x2634B798: X11SalFrame::Dispatch(_XEvent*) (salframe.cxx:3895) ==23097== by 0x262DA8F4: SalX11Display::Dispatch(_XEvent*) (saldisp.cxx:2006) ==23097== by 0x233FE616: VCLKDEApplication::x11EventFilter(_XEvent*) (VCLKDEApplication.cxx:36) ==23097== by 0x24EA7E6D: ??? (in /usr/lib64/libQtGui.so.4.8.6) ==23097== by 0x24EB5A41: QApplication::x11ProcessEvent(_XEvent*) (in /usr/lib64/libQtGui.so.4.8.6) ==23097== by 0x233F0234: SalKDEDisplay::Yield() (KDESalDisplay.cxx:66)
Patch Set 2: > I tried to create an import testcase for this issue following the > same logic as in 4f2c8194f485b1527fb4f4dfe23ce804937f1f9c but > either before or after applying this commit, the expected height is > always 0 as there's no text in the table, so it's pointless to > create a testcase checking the height. However, the table's height > is different visually. Anybody knows any other property I can use > to create the import testcase? But why would you want to create an import testcase when the bug fixed is an editing bug which is quite independent of any file format, imported or not? Maybe you want to create an *export* test instead, take a blank document, insert an empty table, save and reload and check row height ... ?
Patch Set 3: Cherry Picked This patchset was cherry picked to branch libreoffice-5-1 as commit 12b9cf788737e7e3f6342191f566ecd10fcd4548
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 6: (1 comment) I won't comment on the code for now, as it basically just moved around without changing much, I'll drop some comments on functionality though Clicking on Add button, while no effect is selected freezes Impress, makes it eat 100% of CPU and eventually freezes the whole desktop session (on Linux). Bad bad bad bad :) One of the ways out is to disable Add button when nothing's selected The list of effects lost its context sensitivity e.g. when a text object is selected, font effects (in emphasis section, like change font, enlarge font etc.) are no longer offered. The controls somehow update incorrectly, e.g. Emphasis category, click Change fill colour -> nothing happens. I'd expect a listbox with colour selection to replace whatever control is underneath immediately. Now it replaces it only after clicking on 'Add'
Uploaded patch set 11.
Uploaded patch set 12.
Uploaded patch set 13.
Patch Set 13: Code-Review+2
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Please someone test this on Windows before merging. Thank you
Uploaded patch set 3.
Patch Set 3: Code-Review+2
Patch Set 1: (2 comments) Please be more specific as what kind of bugfix this it, such as: don't show preview on adding an effect, fix enabling/disabling of controls etc.
Patch Set 2: Code-Review+2
Patch Set 1: (2 comments) Okay-ish in general, save some little nitpicks, see below @Rishabh: While you're at it, you may check if those naughty things -- object size growing out of limits -- are not happening in related dialog (Position/Size one) as well ...
Patch Set 2: Code-Review+2
Patch Set 3: (2 comments) Looks okay minus few nitpickings
Uploaded patch set 5.
Patch Set 5: Code-Review+2
Patch Set 4: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 3: (3 comments)
Patch Set 5: Code-Review+2 (4 comments)
Patch Set 5: Code-Review-1 Sry ... clicked the wrong button ... wanted to -1 this one
Patch Set 6: (8 comments)
Patch Set 7: Code-Review-1 This is still wrong ...
Patch Set 7: -Code-Review I'm just goin' to amend the patch and be done w/ it
Uploaded patch set 8.
Change has been successfully pushed.
Uploaded patch set 1.
Patch Set 3: Cherry Picked This patchset was cherry picked to branch libreoffice-5-1 as commit 4fb551ba427889c21db0f6f5d81705ddba063ad7
Patch Set 4: Code-Review+2
Patch Set 1: Code-Review-1 (1 comment) As commented directly in the code, there are other languages and keyboards that make use of AltGr, so giving only German an Extrawurst doesn't seem right to me. In any case, I'd suggest that you verify it is indeed true that CZ programmer's keyboard doesn't work only in Writer (but it does in Impress and Calc) and see if you can do something with it. There's some code in vcl/*/winproc.cxx that handles Ctrl-Shift keypresses in Writer, perhaps it's relevant also here? Failing that, please try to make the exception for AltGr using locales more universal
Uploaded patch set 1.
Patch Set 1: Code-Review-2 Don't merge, it doesn't have a test yet
Uploaded patch set 2.
Patch Set 2: -Code-Review
Uploaded patch set 3.
Patch Set 3: Code-Review+2
Patch Set 2: (2 comments)
Patch Set 3: Code-Review-1 (2 comments)
Patch Set 3: And honestly, I have to say I liked the previous version (patch 2) better, it hits the sweet spot between providing enough information and cluttering UI ... but it can be discussed
Patch Set 4: (2 comments) I'm pretty happy w/ this already. From the code perspective. I'm not commenting on design perspective since I have little or no taste ;)
Patch Set 2: Code-Review+2 Verified+1
Patch Set 3: (2 comments) Ahoj :) pozdrav na Slovensko do Kesic
Patch Set 3: (2 comments)
Patch Set 4: (1 comment)
Uploaded patch set 5.
Patch Set 4: Ah drats, this patch depends on the other one from you to such extent that all by itself, it actually doesn't fix the bug and the unit test fails (not surprisingly so), argghhh Never mind, I'm now going to submit both but next time please make it more clear both patches fix the same bug, to save reviewers from wtf?! moments ;-)
Patch Set 5: Code-Review+2 Verified+1
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Abandoned done already
Patch Set 3: Code-Review+2 (1 comment)
Uploaded patch set 1.
Patch Set 1: Code-Review-2 Don't merge. I can't reproduce the crasher bug anymore, this is just to unstuck wannabe GSoC student whose patch crashes without this "fix"
Abandoned Sure, if (pPtr) and if (pPtr != nullptr) should be equivalent, but I swear without this patch, I was getting a bad_alloc just one line below. Now, no matter if with or without this patch, I can't seem to make bad_alloc happen again. Must've been some glitch ... between kernel and debugger. So I'll just bin this one
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-1 as commit 6668fee4d4c3a9b24267ced1747db9dcdae660a2
Uploaded patch set 1.
Patch Set 1: Cherry Picked from branch master.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: (1 comment) ... but less this small nitpicking, I'm very happy with this one
Patch Set 4: Code-Review+2
Patch Set 1: I tend to agree that the control is of little use in LTR environment, unless and until the user works with a spreadsheet known to be created in RTL environment. In that case, to make life a little bit easier for such user, maybe make the control visibility depend on the language of the document and/or language of the environment (locale)?
Patch Set 1: Argumenting with Bubli's interoperability law ("If MS Office does it, it can't be bad") ... what can one possibly say to that
Uploaded patch set 10.
Uploaded patch set 11.
Uploaded patch set 12.
Patch Set 13: Published edit on patch set 12
Uploaded patch set 14.
Patch Set 14: > Thanks bubli for making it successfully compile. > > 1) So i see the format drop down menu can correctly change the > slide size, but doesnt read the current value when it is > initialized and always shows a6. > > 2) Master slide drop down doesnt fresh correctly, as i can jump to > the master pages tab and apply a different slide master and when i > jump back to the properties tab, the drop down still says i'm on > the old slide master. > > 3) setting background doesnt work, except for the 'insert image' > button Because the patch is not finished (and is in general of pretty poor quality) and it is not meant to be used in production yet. Expect some 5+ more patches on the top of it
Patch Set 14: Code-Review+2
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 5: Published edit on patch set 4
Patch Set 6: Published edit on patch set 5
Patch Set 7: Published edit on patch set 6
Patch Set 8: Published edit on patch set 7
Patch Set 8: Code-Review+2
Patch Set 8: Verified+1
Patch Set 4: Code-Review-1 (3 comments)
Patch Set 1: Code-Review-1 (3 comments) There are too many hard-coded suspicious constants of unknown origin in this patch that make it very fragile, not to mention prone to regressions ... Can you please explain in more details what's behind this approach as I can't really figure it out myself?
Patch Set 3: (1 comment) There's good deal of flickering going on as this new spinbox control value is changed, not so very pleasing for the eyes :) Maybe this rmain sequence rebuilding and updating controls isn't really necessary when changing delay value only?
Patch Set 3: Code-Review-1 I wanted to -1 this one ...
Patch Set 1: (9 comments)
Patch Set 1: This already looks much better (more detailed comments to come). Regarding documentation: maybe there's a middle ground, for example creating some README (plain text) file and placing that somewhere in sc/qa directory and referencing it from the code
Patch Set 5: Code-Review+2
Patch Set 5: Verified+1
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 4.
Patch Set 4: (3 comments)
Patch Set 2: To summarize what has been discussed on IRC today: I'm not a big fan of encouraging users to use deprecated and insecure protocols (let's be honest, DDE *is* deprecated and insecure). If this is mainly about inserting links with relative paths, maybe your goals could be achieved by using relative references, i.e. =DDE("soffice"; "some/relative/path"; "SheetX.CellY") would become ='some/relative/path'#SheetXCellY' and the development effort could be targeted at implementing some UI and clipboard support for relative references and fixing outstanding relative reference issues (sometimes target doc doesn't update if source doc changes, ~/ path doesn't expand correctly etc.)
Patch Set 2: > Comboboxes looked good but they didnt successfully import or export > the entered values. Import or export entered values? Into which file format :)? Are you sure this worked before?
Patch Set 3: (1 comment)
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Published edit on patch set 2
Abandoned
Uploaded patch set 3.
Patch Set 3: Code-Review+2
Patch Set 5: (4 comments)
Patch Set 1: (2 comments)
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Abandoned
Patch Set 2: Code-Review-1 (4 comments) See inline comments
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review-1 (10 comments)
Patch Set 6: Code-Review-1 (6 comments)
Patch Set 6: (5 comments) I can't really comment on the actual bugfix as I've no HiDPI screen, so I at least commented on the code ...
Patch Set 1: Code-Review-1 Hm, I'm not a big fan of this either, why not leave the status quo? Or drop the labels entirely, if you really need to change something ...
Patch Set 4: Code-Review-1 (10 comments)
Patch Set 5: (2 comments)
Patch Set 7: Code-Review+2 Let's wait for Jenkins ...
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: @Jay: Can you please try this patch, if it (accidentally :)) also resolves tdf#97398?
Patch Set 3: Published edit on patch set 2
Patch Set 3: Code-Review+2
Patch Set 4: Cherry Picked This patchset was cherry picked to branch libreoffice-5-1 as commit 8db0ee749f91501c4132552bc8acef29a9830299
Patch Set 3: (2 comments)
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review-1 Discovered 1 small-ish issue w/ this, so pls don't merge yet
Patch Set 3: Published edit on patch set 2
Patch Set 3: Code-Review+2
Topic http://moreganize.com/b2SDlk8L99x removed
Patch Set 1: Cherry Picked from branch master.
Uploaded patch set 1.
Patch Set 1: > A polite ping still working on this patch ? I would like to merge it (since there's not much more to do), but I can't since my employer didn't approve of it. So I might as well abandon it.
Abandoned
Patch Set 3: (1 comment) The inline comment is just nitpicking. This can go in ... I just can't test atm, so maybe someone else can
Patch Set 6: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: (3 comments)
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+1 (1 comment)
Patch Set 1: -Code-Review (2 comments)
Patch Set 2: (2 comments) + an unit test would be nice :))
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+2
Patch Set 1: Verified+1
Patch Set 1: (1 comment)
Patch Set 1: > I couldn't understand cause of failure. I'm working on GNU/linux > and it was compiled on my computer without problem. Don't worry, it is unrelated to your patch ...
Patch Set 1: > Hi devs, > > Has that patch a problem? Should i need to rebase it? Nah, it looks okay code-wise, I'm going to merge it (after pullin' and testing it)
Patch Set 1: Code-Review-1 (1 comment) + let's ask Armin for a bit of help
Patch Set 4: (2 comments)
Patch Set 4: Ah, Armin commented on the same in parallel :)
Patch Set 5: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 28: (6 comments)
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Patch Set 4: Published edit on patch set 3
Patch Set 4: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Patch Set 2 was rebased
Patch Set 3: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Patch Set 2 was rebased
Patch Set 3: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: > I am confused here, we already had several commits to solve 88502, > this one only seems to change the UI behavior, therefore UX team is > added as reviewers. Well, even after all those commits, there are things to do still :) Susobhan: Maybe change the commit msg a bit (use 2nd line as subject)
Patch Set 2: (3 comments)
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Published edit on patch set 2
Patch Set 3: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 9: Code-Review+2
Patch Set 1: Code-Review-1 (3 comments)
Patch Set 3: (3 comments) Overally, pretty good job. For some nitpicks see inline comments
Patch Set 6: (1 comment)
Patch Set 7: Code-Review+2
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: (1 comment) The semantics around XATTR_FILLBACKGROUND and XATTR_FILLCOLOR has slightly changed (b/c there is no checkbox w/ bool value now, instead there is a check for white vs. non-white) ... I'm afraid it can potentially cause some regression with existing documents, but let's leave it at that now and fix those regressions as they appear
Patch Set 3: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Patch Set 3: Code-Review+2
Patch Set 1: (3 comments)
Patch Set 1: @Armin: you might like this patch :)
Uploaded patch set 1.
Patch Set 1: (2 comments) See inline comments. A suggestion for the panel behaviour: the two spinboxes (width, height) would update with corresponding values according to what's selected in the listbox above, but they would be inactive. Modifying them makes sense only if some 'user defined' paper size is selected, so I'd activate them only then.
Uploaded patch set 1.
Abandoned
Patch Set 1: Code-Review+2
Uploaded patch set 3.
Patch Set 4: Published edit on patch set 3
Patch Set 6: Published edit on patch set 5
Patch Set 6: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review-1 (1 comment) Lots of this code is taken verbatim from PageMarginControl class. Please consider factoring it out e.g. to some helper class or a header (if it's not goin' to be too big)
Patch Set 1: (4 comments) See inline comments. No helper class, just a shared header w/ some constants and util funcs
Patch Set 2: (2 comments)
Patch Set 4: > might be good to have a separate patch for the removal of the > panel, so in case we have to restore it, it would be easily to do > so. No strong opinion either way ...
Patch Set 4: Code-Review-1 (2 comments)
Patch Set 5: Good job :o) The Jenkins build failure looks unrelated, but to be on the safe side, can you please run 'make check' and 'make subsequentcheck' on your box to see if you get some/any failures ? I won't be able to do it myself today
Patch Set 7: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Patch Set 1: Can you please rebase this one and use PaperSizeListBox widget from commit 9196de99ed4dff2c1f8708bfd68da9b6424ae53b wherever anything's done with, well, paper size list box? That means, removing lcl_Fill.*ListBox method, removing list box entries from .ui file and using FillListBoxEntries, Get/SetSelection methods from PaperSizeListBox where appropriate. Once this is done, I'll merge your patch ... maybe :)
Patch Set 5: (1 comment)
Patch Set 6: Published edit on patch set 5
Patch Set 7: Code-Review+2 Verified+1
Patch Set 3: Code-Review+2 (2 comments)
Patch Set 2: (2 comments) I'm deliberately commenting on patch v2, because this still has CMYK colour selection and it is also what I'm going to merge
Patch Set 9: Published edit on patch set 8
Patch Set 9: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 3: (1 comment)
Patch Set 5: (3 comments)
Patch Set 1: Code-Review-1 As discussed on IRC, this class is much too big to be placed in a header like that. Please move it to some more appropriate place, where other custom widgets already are, for example svx or svtools
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 3.
Patch Set 4: Patch Set 3 was rebased
Patch Set 5: Patch Set 4 was rebased
Patch Set 5: Code-Review+2 Verified+1
Patch Set 5: (3 comments) More comments to come
Patch Set 7: (2 comments)
Patch Set 8: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 5: Code-Review-1 (4 comments) What I said about SlideBackground basically holds for area panel as well
Patch Set 10: (4 comments)
Patch Set 15: Code-Review-1 (7 comments)
Patch Set 15: (1 comment)
Patch Set 16: Code-Review-1 (2 comments)
Patch Set 17: Code-Review+2
Patch Set 1: (2 comments)
Patch Set 4: Published edit on patch set 3
Patch Set 4: Code-Review+2
Patch Set 5: > Small edits need to be made. Question: Where does the > implementation (cxx) of the helper class go exactly i.e. which > exact directory inside svx? svx/source/dialog for example ... don't leave the helper class in header only, split it to header + implementation
Patch Set 5: (1 comment)
Patch Set 5: Code-Review-1 Forgot to -1 this one
Patch Set 6: Code-Review-1 (5 comments)
Patch Set 10: (1 comment) This is already pretty good, so it can be merged. You may make some follow-up commit, converting cui code to use the shared methods (helper, custom widget) that you introduce here
Patch Set 13: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 2: Code-Review+2
Patch Set 2: (2 comments)
Patch Set 2: (4 comments)
Patch Set 5: (1 comment)
Patch Set 6: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-2
Uploaded patch set 2.
Patch Set 2: -Code-Review
Patch Set 1: Code-Review-1 (3 comments) Do *not* implement this functionality in general sidebar code. It needs to be moved to the panel that actually needs such a title changing gymnastics. All the other panels do not and should not care. For the rest, see inline comments
Patch Set 2: (3 comments)
Patch Set 4: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review-1 (3 comments)
Patch Set 1: (4 comments)
Patch Set 3: Code-Review+2
Patch Set 2: Code-Review-1 (4 comments)
Patch Set 10: (3 comments)
Patch Set 14: Code-Review-1 (11 comments)
Patch Set 17: Code-Review-1 (4 comments)
Patch Set 20: Published edit on patch set 19
Patch Set 21: Published edit on patch set 20
Patch Set 22: Code-Review+2
Patch Set 6: Code-Review-1 Would be very useful to add a test document along w/ the testcase, to make sure this doesn't regress in the future
Patch Set 1: (4 comments)
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 2: (3 comments)
Patch Set 5: Published edit on patch set 4
Patch Set 5: The worst variable name in the world :o)
Patch Set 5: Code-Review+2
Patch Set 5: Hm, I'm not a big fan of import button to the left of the bitmap listbox (I'd place it underneath, if anywhere, this way it looks a bit silly), but let's chuck this in still
Uploaded patch set 5.
Patch Set 5: Code-Review+2
Patch Set 3: Code-Review+2 Happy to make it more visible
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 11: (1 comment)
Patch Set 3: Code-Review-1 (2 comments)
Patch Set 3: > > (2 comments) > > Acknowledged, already had a patch locally addressing these issues > itself. But main thing is there are a few existing problems: > #1) background is white (tried SetBackground(), have no clue what > to do about this) Have you tried experimenting w/ different styles (pValueSet->SetStyle( WB_FOO) or colours (pValueSet->SetColor( aColor ))? Example: sw/*/PageOrientationControl.cxx
Patch Set 5: (1 comment)
Patch Set 5: Code-Review-1 (1 comment) See inline comment ... otherwise I'm very happy w/ the rest of the code, esp. DefaultShapesPanel. It's very neat and minimalistic, yet fully functional
Patch Set 7: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Patch Set 1: Code-Review+2
Patch Set 4: Code-Review-1 I'd appreciate if you moved the new custom widget into a separate patch
Patch Set 5: (4 comments)
Patch Set 10: Code-Review+2
Patch Set 1: (1 comment) See inline comment, but otherwise, good job
Patch Set 2: (1 comment)
Patch Set 2: (4 comments) I'm not sure if svx/*/tbxctrls is the best place for this derivative of ValueSet ... do you intend to use it anywhere outside cui?
Patch Set 3: (2 comments)
Patch Set 5: Code-Review+2
Uploaded patch set 1.
Abandoned Bad idea
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 5: Published edit on patch set 4
Uploaded patch set 6: Patch Set 5 was rebased.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Patch Set 5: Code-Review+2
Patch Set 3: (1 comment)
Patch Set 5: Published edit on patch set 4
Patch Set 5: Code-Review+2 Verified+1
Patch Set 3: Code-Review-1 (4 comments)
Patch Set 3: (1 comment)
Patch Set 1: Code-Review+2
Patch Set 1: Okay, I'm merging this, but I have a condition: please have a look at svx/*/dlgctrl.cxx file (from which you've copy'n'pasted the code creating bitmaps) and clean up the code there in such a way that it will use the method you moved here
Patch Set 1: Code-Review+2
Patch Set 2: > (1 comment) ... and every time you copy'n'paste code, G*d kills a kitten :o) You really don't want make a toolbar button out of this function (that's what ToolBoxConfig=true does), it makes very little sense
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Patch Set 2: (1 comment)
Patch Set 4: Published edit on patch set 3
Patch Set 4: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 4: > A proposition is, moving those VclPtrs in the base class itself, > and let the mediacontrol and the mediaplaybackpanel inherit and > initialize them accordingly. Is that a bad/good idea? It looks like a good idea on the face of it as lots of the code is identical. Maybe not necessarilly create 2 subclasses, but try to have a sidebar panel contain only 1 MediaControl widget and implement the necessary interaction ... let's see how that works
Patch Set 9: (4 comments)
Patch Set 13: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 4: (6 comments)
Restored Area tab revival episode 2
Uploaded patch set 14.
Patch Set 14: Code-Review+2
Patch Set 3: Code-Review-2 (5 comments) I don't want to be an a**hole -2-ing the patches for random non-reasons, but this patch is simply no-go. It is totally wrong from the architecture point of view. Back to the drawing board, I'm sorry
Patch Set 3: It doesn't even build on all architectures, so -2 seems appropriate
Patch Set 5: (2 comments) So I'm not going to remove my -2 from this patch, until this is implemented better from the architecture POV. Suggested implementation would contain a struct or class holding pointers to the buttons and some operations on them, such as i) pressing buttons on/off ii) making sure only one buttons is pressed at time iii) containing some mapping of buttons (pointers to them respectively) and pointers to functions to call when the button is pressed See for example sc/source/ui/cctrl/checklistmenu.cxx, ScTabStops therein is example of such structure Having 5+ if-else's to controlling the workflow is simply not acceptable (well, maybe it is in some freshman university C++ introductory course, but not here)
Patch Set 7: Code-Review-1 (1 comment) Improving slowly, see inline comment
Patch Set 8: Code-Review-1 (10 comments)
Restored Area tab revival, yay
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 11.
Uploaded patch set 12.
Uploaded patch set 13.
Uploaded patch set 14.
Uploaded patch set 15.
Patch Set 16: Patch Set 15 was rebased
Uploaded patch set 18.
Patch Set 18: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+2 Verified+1
Patch Set 6: Code-Review+2 Verified+1
Patch Set 5: Unit tests fail across the platforms. Please revert this change locally and do 'make sw.clean && make sw.check', possibly also 'make sw.subsequentcheck'. If sw unit test now passes, we can't merge this, that would break compatibility
Patch Set 1: Code-Review+2
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Patch Set 3: Code-Review+2
Patch Set 3: So here is how to make this app-specific: in .ui file: Add a new GtkLabel somewhere and make it invisible/hidden in filter/source/pdf/imdialog.hxx: add two new variables, bool mbIsSpreadsheet and VclPtr<FixedText> mpSelectionText, for example in filter/source/pdf/impdialog.cxx: Initialize mbIsSpreadsheet by querying xInfo->supportsService( com.sun.star.sheet.SpreadsheetDocument) Retrieve the new label from .ui file get( mpSelectionText, "gtklabel_id_here") And finally, if mbIsSpreadsheet is true, change the label on the corresponding radiobutton mpRbSelection->SetText( mpSelectionText->GetText()) Or something along that line
Patch Set 1: Code-Review-1 (2 comments) > This is for initial comments. I've just inserted a placeholder for > media file path. It reads "Insert Media Path Here". I, or may be > someone else, might pass actual Media Path there. Come on, you can do it ;-) it is trivial by now, when you got this far Implement a new method of MediaControl class, e.g. implUpdateURLField (it could take OUString as an argument). It should do mpMediaPath->SetText($some_url), where $some_url you're going to obtain from maItem (avmedia::MediaItem) member variable, by simply calling its getURL() method. Call this method from MediaControl::setState(). That's it.
Patch Set 2: Code-Review-1 (3 comments) I have no immediate idea how to fix the resize problem (a way to work around it would be to set a bigger initial size, but unsure how that's going to fly) But please address the things pointed in inline comments first.
Patch Set 2: > I'm unable to get the resize function to work. Other mentioned > things can be quite easily implemented. So ye, don't block on it -- just commit what you have and I (or someone else) can make a follow-up patch that'll implement proper resizing
Patch Set 3: (4 comments) This already looks pretty good. Minor issues commented inline
Patch Set 4: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Did you verify this (setting some values *without* creating a preset fill with those values) actually works even after saving the file to different formats and that such documents roundtrip well? If not, please do so (and actually look *inside* the file) it can well happen that this scenario results in empty preset names saved, which in turn leads to no fill or default fill loaded
Patch Set 1: Code-Review-1 So as discussed on IRC, an integral part of this patch has to be some code that'll generate a new preset (with a random name), if this is not going to be entered by the user, in order to avoid saving fills with empty names and thus roundtrip issues. That way it is consistent with sidebar.
Patch Set 2: Code-Review+2
Patch Set 1: When adding new files, you can name them whatever you want but preferably in such a way that it is clear what this help is about :) Those numerical file names are legacy of the past
Patch Set 1: (1 comment) Well, "page numbering format" it is, that's also what the help text says ("Select the page numbering format that you want to use ... ")
Patch Set 1: Hm, so, keeping the code in place while removing it from makefile (and thus preventing it from being ever built) doesn't sound like the greatest idea to me. Either remove both the code and the lines in the makefile (if you don't, then likely someone else does in a follow-up commit, rightfully considering that code to be dead) Or keep both in place if anyone considers reusing it, but not just yet
Patch Set 2: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2 Verified+1
Patch Set 2: Has anyone verified that this also gets packaged into Linux rpm/deb packages, Windows .msi and whatever MacOSX has? So that the new .sop file gets also installed for the user that gets stock non-development build either from their distro or from TDF site
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Uploaded patch set 3.
Patch Set 4: Published edit on patch set 3
Patch Set 5: Published edit on patch set 4
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: (1 comment)
Patch Set 5: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: I must've seen that commit, otherwise I wouldn't be able to merge this cleanly. I haven't tested it though, have you? Does loolwsd get started for you after clean install?
Abandoned Fair nuff, I believe you
Patch Set 3: Code-Review-1 Thanks for your patch. Two things though: 1. Are you sure you've got the bug ID right? tdf#98309 is an export (filesave) bug, your patch fixes an import (fileopen) problem 2. The best practice is to accompany every bugfix by unit test. In your case, if you don't feel comfortable with UNO, a simple XPath test will do. Have a look at other tests in sd/qa/unit/ ... you most likely want to use import-tests.cxx
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Code-Review+2 Verified+1
Patch Set 6: (2 comments)
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Do not merge yet
Patch Set 2: Published edit on patch set 1
Uploaded patch set 3.
Patch Set 4: Patch Set 3 was rebased
Patch Set 4: Code-Review+2
Patch Set 1: (1 comment)
Patch Set 1: > > However I decided against it, since reading configuration on > every repaint brings some performance penalty > > I see, just wondered if the performance penalty is really severe or > not. I didn't observe any slowdown myself, but that doesn't mean that other people wouldn't, who knows what they do with their office :) e.g. this blogpost explains why are frequent configuration readings a bad idea: https://mmohrhard.wordpress.com/2015/10/07/short-update-about-the-performance-testing/ > What we want then would be to derive utl::ConfigurationListener and > provide a suitable ConfigurationChanged( ::utl::ConfigurationBroadcaster*, > sal_uInt32 ), > as in Calc's ScModule (ScModule::ConfigurationChanged() in > sc/source/ui/app/scmod.cxx) > and Writer's SwModule (SwModule::ConfigurationChanged in > sw/source/uibase/app/apphdl.cxx), etc. > Right? Aye, that's exactly what I meant :)
Patch Set 4: I'm on this, don't worry
Patch Set 2: (1 comment)
Patch Set 4: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: -Code-Review Ah drats, clicked the wrong button
Patch Set 1: Aaanyway ... why is UI change (along with a string change ... okay, the string is really not translatable, but it is marked for translation still) cherry-picked to 5.2?
Patch Set 3: (1 comment)
Uploaded patch set 1.
Patch Set 1: So this patch opens The Can of Worms again, in other words breaks auto-accelerator feature for Gtk. Open a modal dialog and press Alt. On pressing the key, accelerator characters in the dialog should appear underlined and on releasing it, they should disappear again. Only the former happens, underlines don't disappear
Patch Set 1: Code-Review-1 As for the solution, for Alt key, both press AND release have to be passed (because both are significant for auto accelerator). For other modkeys, only the release could be sufficient
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Uploaded patch set 3: Patch Set 2 was rebased.
Abandoned Merged to master now
Uploaded patch set 1.
Change has been successfully pushed.
Uploaded patch set 1.
Change has been successfully pushed.
Patch Set 1: (1 comment)
Patch Set 4: Code-Review+2
Patch Set 2: You need to add your new class to makefile, in particular to: svx/Library_svxcore.mk Just amend it where you see the other svx/source/dialog classes
Patch Set 2: You should give the contributor credit where credit is due and resubmit the patch under his name ( git commit --amend --author "his name" <his@e.mail") Especially given the fact that this is his first contribution
Patch Set 1: Code-Review+2
Patch Set 1: Btw, this is tdf#93592
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: > A polite ping, still working on this patch ? I can't fix this bug, abandoning
Abandoned
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Patch Set 3: > Hm this will break our CI script which expects each language to be > in a separate folder. Localized images in separate folders will not display in helptexts, which use vnd.libreoffice.image:// special URL and expect the following: path/to/image.png (for en-US locale) path/to/$locale/image.png (for all other locales) See e.g. icon-themes/galaxy/res/helpimg as an example of help-text friendly folder with localized images
Patch Set 3: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: I need to add bookmarks w/ widget IDs, so please don't merge yet
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 4: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit 821a14c1f45f28dda57db5dfc1d638670689ac45
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: Code-Review-1 (6 comments) Since this is your first contribution, I'd recommend you strive to make basic things functional and only when done, add more functionality. I've dropped some inline comments as for what to do in particular
Patch Set 3: Code-Review-1 (1 comment)
Patch Set 5: Code-Review-1 (3 comments)
Patch Set 6: Code-Review-1 (1 comment)
Patch Set 6: (1 comment)
Patch Set 7: Code-Review-1 (2 comments)
Patch Set 8: Code-Review-1 (1 comment)
Patch Set 10: Published edit on patch set 9
Patch Set 11: Published edit on patch set 10
Patch Set 11: Code-Review+2 Verified+1
Patch Set 1: Code-Review-2 Please abandon this one and amend the other patch instead
Patch Set 2: Code-Review+2
Patch Set 1: Cherry Picked from branch master.
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Patch Set 2: > Code wise it looks great; thanks - just need to get CI happy =) I don't think CI failure is the contributor's fault, in this particular case :o)
Patch Set 3: I'm lookin' into this ...
Patch Set 3: Code-Review-1 (4 comments)
Patch Set 5: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: @shm_get: this should prevent pngs from leakin' into tmp
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit a2d57ae26800575853c8e9b1572618e332f70db6
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Code-Review-1 Don't merge yet
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Code-Review+2 Verified+1
Patch Set 5: > UpdateButtonStates() seems to assume the toplevel selection is > already checked, and valid; and deals with the content of the > listbox only. That's why line 2647 fits better in its current > position. But I am not sure about moving the whole chunk. I mean we > should move the whole chunk, or leave 2647 as it is. UpdateButtonStates() is relevant for the changes made on individual command level. The modified code otoh deals with changes at top level, therefore it should stay where it is. I'm going to merge it like that
Patch Set 5: Code-Review+2
Patch Set 5: (1 comment)
Patch Set 6: Published edit on patch set 5
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review-2 This doesn't even compile ...
Patch Set 1: (1 comment)
Patch Set 1: (1 comment)
Patch Set 2: -Code-Review Already looks much better \o/ However, edited value(s) don't stick when saved, but that can be fixed later
Patch Set 2: (2 comments)
Patch Set 3: Code-Review-1 You need to debug this further, the saved values still don't stick
Patch Set 4: So this patch works \o/ but I need more time to review it, since I don't quite like how items from different ranges (XATTR_ vs. EE_ITEMS vs. SID_ATTR) are mixed and esp. when it comes to styles, things can break badly
Patch Set 4: > Bubli@ please see if you have time to review the patch, or let us > merge it if works and only cornercases might be the problem. It works but it has some potential to cause regressions, I'd be unhappy to see it reverted b/c of that
Patch Set 6: Code-Review+2
Patch Set 1: Code-Review-1 (2 comments) > Hi ?rem, Your patch looks good to me. But after that enhancement i > think .uno:CloseMasterView button and command looks to me reduant. > @Katerina it looks removable to me. What do you think? I'm not against removing UNO commands if there's a damn good reason for it. I'm not sure such a reason exists in this particular case. So pretty please, before you guys'n'gals proceed with removing, bring that topic to the development (not design) mailing list and see what the others think. One never knows whose extension or macro or other mission-critical app depends on this particular UNO command being in place As for the code, see inline comments. Some additional tweaks are needed too e.g. you want to find .uno:SlideMasterView command definition and adapt its tooltip so that it reflects the fact it is now a toggle. Also, you'd perhaps need to clean up the code in respective DrawViewShell(s) that deals with those slots ...
Patch Set 1: > Katarina, as I understand from your ".uno:SlideMasterView command > I changed Toggle > feature False to True in SID_SLIDE_MASTER_MODE's definition in > sd/sdi/sdraw.sdi file. Is that right? Yes, that's right. But I meant something slightly different - if you enable showing extended tooltips (Tools > Options > General > Help) and hover your mouse over the toolbar button, you'll see a text saying something like "Switches to slide master view ... ". This text should be modified to reflect the situation after your patch. It lives in this file: helpcontent2/source/text/simpress/01/03150100.xhp But since the file isn't part of libreoffice core repository (but of help texts repository) you don't absolutely have to do it.
Patch Set 1: > And I reviewed the > sd/source/ui/view/drawview.cxx file and related draw view and > DrawViewShell files. But I don't understand which part of code that > I should clean up. Can you give more details please if it's > possible? Okay. First, go to sd/sdi/ViewShellBase.sdi and find your slot (SID_SLIDE_MASTER_MODE). Now you'll see that the slot's ExecuteMethod is simply ViewShellBase::Execute and StateMethod is ViewShellBase::GetState You'll find those methods in sd/source/ui/view/ViewShellBase.cxx. Maybe there is nothing to be changed in those methods, but in any case review them to make sure they don't misbehave after your change ...
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 4: Published edit on patch set 3
Uploaded patch set 5.
Patch Set 5: Code-Review-2 The same story all over the frigging place
Patch Set 6: -Code-Review
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Uploaded patch set 4: Patch Set 3 was rebased.
Restored We'll need this soon
Patch Set 4: Code-Review-2 It's the same story all over the frigging place
Patch Set 6: -Code-Review
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Published edit on patch set 2
Patch Set 3: I'm not working on any of those patches anymore, they are all done. I want someone to review and merge them, so it is the reviewers that should be politely pinged, not me :P
Patch Set 3: Code-Review-2 The same story all over the frigging place
Patch Set 5: -Code-Review
Patch Set 4: So, uhm ... was indisputable advantage of listboxes full of numbers over spinboxes discussed somewhere? Because I see no advantage whatsoever, if instead of bare numbers some verbal description of values was given (tiny, small, medium, big, bigger, enormous) was given, we could talk about advantages of listbox with presets, but like this, I totally disapprove of this change If you absolutely need to change something, then change the spin size (step of 10 instead of 1 on arrow up/down), or use sliders instead of spinboxes.
Uploaded patch set 1.
Patch Set 1: > The commit message and the files does not seem to correspond. The > files are deleted not moved, in case they are added somewhere else > (which I presume), then a note about that would be good. The files are added to help repository in https://gerrit.libreoffice.org/31906 It is not possible to make those two patches depend on each other as those are two separate git repositories
Patch Set 1: Code-Review-2 The same story all over frigging place
Patch Set 4: -Code-Review
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Patch Set 2: Code-Review-2 The same story all over the frigging place
Patch Set 4: -Code-Review
Uploaded patch set 1.
Patch Set 1: Code-Review-2 It's the same story all over the frigging place
Patch Set 3: -Code-Review
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review-2 The same story all over the frigging place
Patch Set 3: -Code-Review
Patch Set 1: Code-Review+2
Patch Set 1: (1 comment)
Patch Set 2: Code-Review+2
Patch Set 3: Published edit on patch set 2
Patch Set 3: This is cute :)
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 4: Published edit on patch set 3
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Patch Set 7: Can you people please review this in, if you are happy with it, the longer it sits here the more merge conflicts and dust it gathers
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Patch Set 1: Code-Review+2
Patch Set 1: So this feels a bit odd, otoh I'm not so much into l10n and I might be missing something ... Why would some lines of code examples be localized and others not? Who decides and based on what assumptions? It's either all localized or it isn't. And since it is *code* examples and it is actively harmful if programming language constructs and keywords are translated (not all translators are familiar with the given programming language, so they can easily mess this up), I'd vote for labelling it all as localize=false
Patch Set 31: Published edit on patch set 30
Patch Set 31: I've amended your patch, had to fix up some things I broke after merging --with-system-gpgmepp change, so you can build against master. I just love hacking gbuild :-/
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2
Patch Set 3: (1 comment)
Uploaded patch set 4: Patch Set 3 was rebased.
Uploaded patch set 5.
Patch Set 5: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review-2 Don't merge
Uploaded patch set 2.
Patch Set 2: -Code-Review
Patch Set 2: Code-Review+2
Patch Set 3: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit 70834f3b178ee86be390396cb0475edb47196408
Patch Set 2: Code-Review+2 So let's just push it
Patch Set 2: Code-Review+2
Patch Set 2: Code-Review+1 But but but, this changes a translatable string, yikes! ;-) I'd be fair to let l10n people know before merging ...
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-2 Don't you even dare to merge this !!
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Patch Set 3: -Code-Review Now you people can consider merging ... I tested this on Deb testing (stretch) and configure was able to find the lib on the system, but I'd appreciate if someone also tested on sth else (openSUSE, Fedora etc.) Be warned though, libgpgmepp likely won't be found on anything older than 1 year
Uploaded patch set 6: Patch Set 5 was rebased.
Uploaded patch set 7: Patch Set 6 was rebased.
Uploaded patch set 8.
Patch Set 1: (1 comment)
Patch Set 1: (3 comments)
Patch Set 5: Code-Review-1 (4 comments)
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3: Patch Set 2 was rebased.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 1: Code-Review-1 (1 comment)
Uploaded patch set 1.
Uploaded patch set 2.
Abandoned *!@&^$#@*#%(^
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Cherry Picked from branch master.
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2 Verified+1
Patch Set 2: Code-Review+2 Verified+1
Patch Set 2: Code-Review+1
Patch Set 1: Code-Review+1 Looks okayish
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: > Is there a use-case where this code can do something that > lok::Document::postUnoCommand() can't? As far as I see both are > just wrappers around comphelper::dispatchCommand(). Heh. I know ~nothing about LOKit and this is my first time contributing to this part of the code, so I apologize if I'm talking nonsense. Large part of the func I wrote can be replaced with comphelper::dispatchCommand, I give you that one. But doesn't postUnoCommand require an open document (SfxObjectShell)? I essentially wanted to write a LOKit equivalent of commandline 'soffice macro://Some.Macro(here)' which doesn't need a document + only accepts URLs starting w/ "macro://" or "vnd.script..."
Patch Set 1: > Ah, I see the point. And given that this doesn't dispatch on the > currently active frame but on com.sun.star.comp.sfx2.SfxMacroLoader, > having a different name sounds logical. I guess I'll try with comphelper::dispatchCommand anyway, if it can eventually find and instantiate SfxMacroLoader when given macro:// URL. I'm not married to instantiating it myself explicitly here, the core issue really is to run the macro, which service does it I don't care > Can you please add a matching testcase to desktop/qa/desktop_lib/test_desktop_lib.cxx? > DesktopLOKTest::testGetFilterTypes() may be an example to copy, it > tests a lok::Office member function. Uhm, any creative idea, how to get a macro into unit test/instdir?
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 4: Published edit on patch set 3
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Published edit on patch set 2
Patch Set 3: Code-Review+2 Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: (1 comment)
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+2
Patch Set 1: Verified+1
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: (1 comment)
Uploaded patch set 1.
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit de0585da26fdcf32447bc3f1908c4f36e40a1790
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-2 as commit 3d9a1cb471b691904abbefa97b6e0387d298e3dd
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Uploaded patch set 4.
Patch Set 4: Code-Review+2
Patch Set 3: Code-Review+2
Patch Set 3: Gulsah: if you want to boost your commit count, you can also (in a follow-up commit) clean up svx/source/sidebar/SelectionAnalyzer.cxx It doesn't identify OBJ_CARC as line-like object (Context::DrawLine) and therefore offers an area sidebar panel for it, while it shouldn't
Patch Set 4: Published edit on patch set 3
Patch Set 4: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Code-Review+2
Patch Set 1: There are more simple to ways to specify dialog title than this one, but its advantage is consistency with the rest of the code
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Code-Review+2
Patch Set 2: > are you sure SfxItemSet::GetItem() always returns the same item as > SfxItemSet::Get()? It doesn't.
Patch Set 2: (1 comment)
Uploaded patch set 1.
Patch Set 1: Code-Review+1
Patch Set 1: This doesn't address the problem that the context menu ("Table Format ..." now) says something else than dialog title ("Format Cells") So I think the best course of action is to change the dialog title to "Table Properties". It is 1-line change in 1 file as well ... (I states when I easy-hackified the bug that I don't care whether the context menu changes or the dialog title changes, but I was wrong. I haven't noticed that the dialog formats not only cells, but sets some other table properties as well)
Patch Set 2: Code-Review-1
Patch Set 3: Code-Review+2
Patch Set 1: > Sorry, but is there a corresponding commit for master? We usually > backport commit from master to branches, not the opposite > direction. Yup there is: 72a2f615c37aada0d5ab8791f1fa9a71772b50f6
Patch Set 2: Code-Review+1 The code looks very good, but I can't test this myself right now, so I'd appreciate if some1 else did ...
Patch Set 2: Code-Review-1 (3 comments)
Patch Set 3: Code-Review-1 (2 comments) This is on a good way already. Detailed comments inline
Patch Set 4: Code-Review-1 The good news: it now works for non-outline styles The bad news: it doesn't work ( = selected colour aren't applied) for outline styles It has something to do w/ save proceture so I'd stick a breakpoint into FuTemplate code and see what's goin' on there
Patch Set 5: Code-Review+2
Patch Set 1: I don't see any change in traslatable strings either, not even in translatable string vs. widget id mapping ... but maybe shuffling things around within 1 file makes strings fuzzy still ? No eye deer
Patch Set 1: > Bubli and me are devs and as such not really affected, also the ESC > isn't to decide this. Rather the translators are affected if with > this change the context of strings flags strings as changed, so the > proper place to ask is on the l10n mailing list. Possibly also documentation mailing list, if there is a help page for this dialog (likely there is)
Patch Set 1: Code-Review+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: (6 comments)
Patch Set 4: Code-Review+2
Patch Set 2: (1 comment) A small inline nitpick, otherwise it's all nice and dandy
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 4: @Eike: So there's a slight issue with the new test -- despite the fact that the expected and by SUMIF calculated value is the same, this ROUND($CELL1,12) = ROUND($CELL2, 12) expression somehow refuses to believe that ... so we've replaced that one with simple $CELL1 = $CELL2. But likely this can't stay like that ...
Patch Set 4: > The blind use of ROUND(...,12) is nonsense anyway.. instead the new > ROUNDSIG function should be used. > > However, which test exactly (in which cell) failed when using the > ROUND function? And is it reproducible? Maybe that's the same cause > we sometimes have problems with in tinderbox builds. It was one of the new ones, the one with a range with empty cells and "<>B" condition ... Bernhard for sure knows the details :) When we opened the sheet, the test field was red. F2 into the cell with formula & triggering recalculation of this formula set things straight
Patch Set 5: Code-Review+2 Verified+1
Patch Set 6: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit 192693fb65c593723a9a86da80e08410974e6138
Abandoned Superseded by: https://gerrit.libreoffice.org/#/c/38148/1
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: I'm going to merge this as there is a student who wants to work on the related bug
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: > (1 comment) I treaded slowly and started w/ warning, perhaps it's a valid use-case to build only server part without leaflet? No idea really, I'm just packaging the stuff, not really developing ...
Patch Set 1: (1 comment)
Uploaded patch set 2.
Patch Set 2: So I've changed both AC_MSG_WARN to AC_MSG_ERROR, as I've my doubts it makes any sense at all to build only server part w/o loleaflet, one will only get blank pages in browser in that case
Patch Set 4: Code-Review-1 (8 comments) I still have to wrap my head around this, here are some preliminary comments
Patch Set 5: Code-Review-1 (8 comments) So this is a hard review. I still can't say I fully understand the problem. I've added some style inline comments Is removing of this UseDocumentSystemfileLocking the only way forward? Is there really no other way how to inform user that IO error happened (lockfile can't be created b/c the disk is full)?
Uploaded patch set 6: Patch Set 5 was rebased.
Patch Set 11: (13 comments) I need to test this yet, very tiny nitpicks inline
Patch Set 12: (1 comment)
Patch Set 12: (1 comment)
Patch Set 13: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review-2 WIP
Uploaded patch set 3.
Patch Set 3: -Code-Review
Uploaded patch set 4.
Patch Set 5: Patch Set 4 was rebased
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Trivial cherry-pick from master. Without this, libreoffice-5-3's loleaflet won't build out of the box, it'll fail in 'jake lint'
Patch Set 1: (1 comment)
Patch Set 1: (1 comment)
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2 Verified+1
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Patch Set 3: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit f9c2268a0433f87094ea767048dfa7fb834576e2
Patch Set 1: Code-Review-1 So, um, is it really necessary to rename those items also in schema files? Sure, it would then be consistent across UI & schema/expert configuration, but renaming as well as removing things from .xcs files is always an API change, so it's better avoided. If it can't be avoided, it has to be documented. Release notes etc.
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Code-Review+1
Patch Set 1: Code-Review+2
Patch Set 1: Verified+1
Uploaded patch set 1.
Patch Set 1: Code-Review+2 Verified+1
Patch Set 2: Cherry Picked This patchset was cherry picked to branch libreoffice-5-3 as commit 47adb7cecd854e46634387b481c515a5b338f8fa
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Cherry Picked from branch master.
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Patch Set 2: Code-Review-2 Given i#95809 (https://bz.apache.org/ooo/show_bug.cgi?id=95809) and discussion on #libreoffice-dev today, the scenario described therein is still applicable today. To ensure it is always only one party editing the file, one needs filesystem-level locking for the cases when the other app doesn't drop .lock files (the issue mentions OOo2 which doesn't implement .lock protocol -yet-, but it can be any other *Office such as MS Office, or simply a different editor). Therefore, UseDocumentSystemFileLocking cannot be dropped. Sorry 'bout that.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Test missin'
Uploaded patch set 2.
Patch Set 4: Patch Set 3 was rebased
Patch Set 2: Code-Review+1
Patch Set 3: Code-Review+2 Fair nuff
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review-1 Please do NOT translate this. Leave it behind, it's part of Libreoffice folklore :) :D (not entirely serious, of course)
Patch Set 1: Code-Review+2
Patch Set 1: Some parts of the previous patch (UI hints updated) were actually useful ... The only thing I objected against was renaming of the XML tag ( Position -> ConstrainObjects) in Draw.xcs because *that* is an API change (and APIs can be changed, but the change has to be diligently documented in Release Notes)
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2 Verified+1
Patch Set 2: (1 comment)
Patch Set 2: > The code seems ok to me. > By comparing with gradient counterpart, I noticed that modify part > had *m_pnBitmapListState |= ChangeType::MODIFIED; > Don't know if it's right + if it should be included in this patch > or in a separate one. All those *m_p.*ListState obscure pointers are some artifacts of old area tab page. I plan to drop them rather sooner than later
Patch Set 4: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review-1 WIP
Uploaded patch set 2.
Patch Set 3: Published edit on patch set 2
Patch Set 3: Code-Review+2 Verified+1
Patch Set 4: Cherry Picked This patchset was cherry picked to branch libreoffice-5-4 as commit 247e3f07037e73e112e482ad78660f0f57200c4d
Patch Set 1: Code-Review+2
Patch Set 1: Cherry Picked from branch master.
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Patch Set 2: Code-Review-1 While this code might work, I'd much rather see something like this done in SlideBackground::Initialize. After switching to master page, then editing some text and then exiting edit mode, what happens is that SlideBackground is constructed/initialized anew. All the other cases are covered by EventMultiplexer handler
Patch Set 4: Code-Review-1 (3 comments)
Uploaded patch set 6.
Patch Set 7: Published edit on patch set 6
Patch Set 7: Code-Review+2 Verified+1
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: mst_: If you could do me a favour and look at this one, it is an attempt to do what https://gerrit.libreoffice.org/36268 w/o stack overflow i.e. Junit_sfx2_complex now passed for me in a local build
Patch Set 1: (1 comment)
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Patch Set 1: Code-Review+2
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Patch Set 2 was rebased
Patch Set 3: Code-Review+2
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: Code-Review+2
Patch Set 1: Code-Review+2
should be 'its'
'its own size'
guess what :-) 'its own size'
then
In outdev.hxx I've changed the default value for nLen if it isn't passed in to -1 in order to get rid of STRING_LEN someday.
Done
This should be !aLeftText.isEmpty()
Not yet because GetTextBreak still returns STRING_LEN - but the final goal is that -1 is returned (similar to indexOf())
Done
Done
Done
Done
Use isEmpty() where getLength() is used to determine whether a string is empty.
isEmpty()
isEmpty()
That's a different meaning: Erase() changes the string itself but copy() returns a modified string which is ignored here!
can be optimized if we consider that the TxtAttrs are sorted by start position. But then we'd have to save 2 indices.
first Attr character
Attr with end
last Attr character + 1
which can call HasItem() for other items at the attribute's start position. Only attributes with end can be queried.
Bug 74245 can be removed because that bug tracking system isn't available anymore (more general: bug xxxxx with x being a digit)
attribute bound to a character
get rectangle (bounding box?) of Fly and paragraph
let PaM point to content of Fly-frame format
no range, hence no valid node
was deleted above in aSaveData()
is it an outline?
of references
fields (also in the next lines)
should Style be written?
texts
is being
z.T. -> partly
positions
for
for
help -> helper ?
observed -> considered
Windows can't handle
Done
Done
Done
Done
Done
Done
Done
Done
Done
but nPos < 0 has to be a third branch in the if statement?!? The if clause tests whether the separator is found beyond the end of the selection, right? Or does that test mean "date separator not found"? Then 2 branches would be enough and the condition changed to nPos < 0.
use an additional parameter for init()
No it can't because as soon as a closed AND an open polygon are found bRetval gets true and the loop terminates.
I'm not a good name inventor :-) Any better suggestion? Otherwise a comment might be /** check whether a polypolygon contains both open and closed polygons **/
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Code-Review-1
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 3.
Patch Set 4: Patch Set 3 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Change has been successfully cherry-picked as 48916c9b8c1363a37bf511626326ee6dc150975c
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 4.
Patch Set 5: Patch Set 4 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Code-Review+2 Verified+1
Change has been successfully cherry-picked as 501f25e3291dd0ab38e3612de2fc160d953c1846
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Verified+1 Code-Review+2
Change has been successfully cherry-picked as 48381e5c2e0a6dc0ad7c3827d988e1010e3f301a
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Abandoned a different solution has been chosen in commit 2c9d68ff56d02350eda752d699f5ba0425e06142
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 this is WIP meant for discussion - please don't push
Uploaded patch set 2.
Uploaded patch set 4.
Patch Set 4: Code-Review+2 Verified+1
Patch Set 5: (4 inline comments) 
Patch Set 1: Verified; Looks good to me, approved 
Change has been successfully cherry-picked as 1d89cd08ab3566375e30b17f1b17bc240ca907a4
Uploaded patch set 2.
Patch Set 2: Abandoned seems to be fixed with commit 223f6b631c1b087754c0f9051fb55f029f2503ce
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 1: Abandoned new approach will be pushed in a minute
Patch Set 1: This need some tweaks before it is merged This is WIP - don't push yet.
Uploaded patch set 2.
Patch Set 2: This need some tweaks before it is merged WIP please do not push yet
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 2.
Patch Set 1: (1 inline comment) 
Patch Set 1: Abandoned to be continued later
Uploaded patch set 2.
Patch Set 1: (1 inline comment) 
Patch Set 1: This need some tweaks before it is merged (1 inline comment) 
Uploaded patch set 2.
Patch Set 1: (3 inline comments) 
Uploaded patch set 3.
Patch Set 2: (2 inline comments) 
Patch Set 1: Abandoned keep RTL_CONSTASCII_(U)STRINGPARAM in this place
Patch Set 2: Verified; Looks good to me, approved 
Change has been successfully cherry-picked as 7dac241ca0dd0e8c53c246d8490e954d5b594862
Uploaded patch set 2.
Patch Set 1: (3 inline comments) 
Uploaded patch set 2.
Patch Set 3: (1 inline comment) 
Patch Set 3: (24 inline comments) 
Patch Set 4: Looks good to me, approved 
Patch Set 1: (10 inline comments) 
Uploaded patch set 3.
Uploaded patch set 2.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 1: (1 inline comment) 
Uploaded patch set 2.
Patch Set 1: use case for https://gerrit.libreoffice.org/#/c/2256/ (usually I push RTL_CONSTASCII_ related changes directly)
Uploaded patch set 2.
Uploaded patch set 2.
Patch Set 1: Abandoned I6b82d48245ee2a0782e05a326f7934e9357227d0 contains this changes as a subset
Patch Set 1: Please wait with reviewing - further modifications needed
Patch Set 1: Please don't push yet - modifications in more files necessary.
Patch Set 1: Abandoned I6b82d48245ee2a0782e05a326f7934e9357227d0 contains this changes as subset
Patch Set 1: Abandoned pushed accidentally
Patch Set 1: Abandoned pushed accidentally
Uploaded patch set 1.
Patch Set 4: Code-Review+2
Uploaded patch set 1.
Patch Set 1: (2 comments)
Uploaded patch set 2.
Patch Set 2: Code-Review+2
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4: Patch Set 3 was rebased.
Uploaded patch set 5.
Patch Set 6: Commit message was updated
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 3: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 3: Commit message was updated
Patch Set 4: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned reference name and reference registered once again
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 3: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: I'll add a test soon, bubli gave me a few code pointers as well. So I guess this patch is not ready to be merged yet.
Patch Set 2: Code-Review-1
Abandoned
Restored There happens to be a block for writing the test for the pptx export due to a bug in the editeng code. But I could still write a test for the odp file export. I'll upload the next patch set as soon as possible. P.S. : Work in progress
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 6: Code-Review-1 Re-exporting an exported file only causes problems. So I'll add one more test for export of a pptx file.
Uploaded patch set 7.
Uploaded patch set 8.
Patch Set 8: Code-Review-1
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned A new patch has been pushed to replace this and two other similar patches.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Abandoned A new patch has been pushed to replace this and two other similar patches.
Uploaded patch set 1.
Abandoned A new patch has been pushed to replace this and two other similar patches.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned Duplicate commit
Uploaded patch set 3.
Patch Set 3: bubli: I changed the test file to the one which actually made my test fail. And now it fails for MacOSX. I've unintentionally introduced a lot of blank lines and a merge conflict(because my tree is not updated I think). I couldn't figure out how that could be fixed.
Uploaded patch set 5.
Patch Set 5: Work In Progress: The edit mentioned in the previous comment is not implemented yet.
Uploaded patch set 6.
Patch Set 6: No, I'm not working on this currently.
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Published edit on patch set 2
Patch Set 4: Published edit on patch set 3
Patch Set 5: Published edit on patch set 4
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Code-Review-2
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 4: -Code-Review
Uploaded patch set 5.
Uploaded patch set 6: Patch Set 5 was rebased.
Patch Set 6: Cherry Picked This patchset was cherry picked to branch master as commit 3ddeeb2390352ff1e124c64549043d826c127ce1
Uploaded patch set 7.
Patch Set 7: Code-Review+2
Patch Set 7: Verified+1
Patch Set 1: Cherry Picked from branch private/Rosemary/change-tracking.
Patch Set 2: Published edit on patch set 1
Abandoned Cherry-picked to private/Rosemary/change-tracking
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Uploaded patch set 1.
Patch Set 2: Reverted This patchset was reverted in change: I3216f34c0784fda28f9b47e11cd2a7219fc62cc7
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Abandoned
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 2: Code-Review+1 Verified+1
Abandoned
Restored
Patch Set 3: Patch Set 2 was rebased
Patch Set 4: Code-Review+2
Patch Set 5: > Patch Set 4: Patch Set 3 was rebased Thanks for rebasing the patch.
Patch Set 5: Reverted This patchset was reverted in change: Ib09fb1dc54066cadcd9503c92140d78e7482ae6c
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Code-Review+2 Verified+1
Patch Set 3: Reverted This patchset was reverted in change: If5b85beb53a0925909d537023879a7d86fa011cf
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Code-Review+2
Patch Set 2: Verified+1
Done
Done
Done
Done
Done
Because of the slot type is not bool(ScProtectionAttr) i have to use that controller to became toggle. But: Toggle behaviour needs improvement. It works (notifies button for last state) when double click to a cell. But one click to cell doesn't notify the button? How can i implement it?
Patchset 2 was for failed patchset 1. I did invalidation and it works. \o/ Thank you for spending your time for me.
Done
Done
Done
It works now, I couldn't understand why didn't work before.
!(nNumberFormat == 4) was unnecessary, corrected patchset 2 but SID_NUMBER_TWODEC's slot type is SfxVoidItem. To behave like toggle it needs that bool item. When i remove that item from both of the cases, it didn'nt behave like toggle.
when i remove that control button always checked.
I will do undoable that action but only i want to know is it true way.
Done
Ops! that is very general specification. Sorry for misunderstanding
That is the specifications of WriterCommands.xcu : http://opengrok.libreoffice.org/xref/core/officecfg/registry/schema/org/openoffice/Office/UI/WriterCommands.xcs According to that specification there is no place for "Properties"
Done
Done
When I shrink the control to the columns it is hard to implement without mixed state. So i have to use it now.
Done
Done
There is no problem with ranges. It comes true for each scenerio. To check: for (size_t i =0; i< rRangeList.size(); i++) { SCROW r1,r2; SCCOL c1,c2; SCTAB t1,t2; rRangeList[i]->GetVars(c1,r1,t1,c2,r2,t2); SAL_DEBUG(r1); SAL_DEBUG(c1); SAL_DEBUG(t1); SAL_DEBUG(r2); SAL_DEBUG(c2); SAL_DEBUG(t2); SAL_DEBUG("*************"); }
It works thanks!
Bu i can't understand marking process. After that there is no selected cells on tabs but when i click the another cell selection done(unprotected cells). What should i do to fix it :/
Done
Done
you are right, control is wrong when cell formatted with other formats like "negative numbers in red"
? couldn't understand what is "default locale", is there any way to check it?
if you say for statement is under the return, return is in a condition. If state is not mixed i need to reassigne tmp for the last state souldn't i?
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 11.
Uploaded patch set 14.
Uploaded patch set 15.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Hi Takeshi, Thanks for review. I didn't write a unit test before. I hope thats true, if not please describe me exactly what shoud i test
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 3.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: I couldn't understand why i get "TIMED-OUT" under windows_msc_dbgutil_32
Patch Set 3: Patch Set 2 was rebased
Abandoned Bu report was misunderstood because didn't have enough information.
Patch Set 5: Patch Set 4 was rebased
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 2: (3 comments) Done
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > Is it possible to also switch to the correct tab I'll try it. > In addition, I think we can change the label of the command > dynamically, so when in endnote it will only say "Endnotes". The > way to achieve this is to use SfxStringItem as the status type, and > put the correct string there in SwTextShell::GetState. > > Is this something you would like to do? (We can also push this > patch as-is, and do improvements in a separate patch. Just let me > know.) Good idea and something new to learn for me. I want to do it in a new patch. Thanks o/
Patch Set 3: > Is it possible to also switch to the correct tab, i.e. when right > clicking inside an endnote, the dialog should always open with the > "Endnotes" tab? Hi Maxim, i am working on it for two days. I couldn't find a way to differenciate if cursor is in footnote or endnote. I think footnote concept covers endnote. Endnote is only a parameter in insert footnote function. (http://opengrok.libreoffice.org/xref/core/sw/source/uibase/wrtsh/wrtsh1.cxx#928) After i realize when a footnote became an endnote its frame is deleted (sw/source/core/txtnode/atrftn.cxx#162) I was thinking to check if there was a frame. But SwCursorShell, SwNode classes has not like getframe or hasframe methods. Is there anything you can suggest me to check?
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Patch Set 2 was rebased
Patch Set 5: > It doesn't identify OBJ_CARC as line-like object (Context::DrawLine) Should OBJ_CARC identify as line-like object? > and therefore offers an area sidebar panel for it, while it > shouldn't Not only OBJ_CARC. Same behaviour for OBJ_LINE, OBJ_PATHLINE, ... Do you mean fix needed for thats all or only OBJ_CARC?
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: (2 comments) Done
Uploaded patch set 3.
Patch Set 3: Done. > It might be a good idea to have only one undo step
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 1: (1 comment) a question:
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 2: (1 comment)
Patch Set 1: (1 comment) Done. Thanks.
Uploaded patch set 4.
Patch Set 4: Hi, Is there any problem about it?
Uploaded patch set 5.
Patch Set 5: Implemented with a seperate slot (without toolbar controller)
Patch Set 6: > So we probably need additional icons for themes galaxy, hicontrast, > oxygen, sifr, tango and tango_testing? Eike thanks for reviewing. I'm not good at icon creation but If there is no one we can ask for i can try to create an "opened lock" icon
Uploaded patch set 8.
Patch Set 8: @Eike Icon issue is ok except galaxy large icon. (Galaxy theme has not lc_protect.png) But now button seems to me as disabled. I couldn't understand why. Can you reproduce? Why could be happen?
Patch Set 8: > That's because in sc/inc/sc.hrc the defined value for > SID_SCATTR_CELLPROTECTION is duplicated Oh thanks! missed it. > However, then clicking the button doesn't do anything, but it > reflects the state if changed with Format -> Cells -> Cell > Protection. Trying to fix it.
Uploaded patch set 9.
Patch Set 9: I have tried changing the definition to make the button visible before. I changed Toggle = TRUE. I brought it back. It works now.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: (3 comments) Maxim,
Patch Set 2: > (1 comment) Maxim, brackets for the scope of rAttrSet and nNumberFormat. If i remove them " error: jump to case label [-fpermissive] #define SID_NUMBER_SCIENTIFIC (SC_VIEW_START + 55)" getting that error. But i can move the definations top of the switch-case if you want.
Uploaded patch set 3.
Patch Set 1: (2 comments) I should be ok now
Uploaded patch set 1.
Patch Set 1: (1 comment) Hi Eike, i have a question
Uploaded patch set 2.
Uploaded patch set 1.
Abandoned already done
Uploaded patch set 1.
Patch Set 1: (1 comment)
Patch Set 1: (1 comment)
Uploaded patch set 3.
Patch Set 1: (6 comments) All done
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: (2 comments) Hi Eike, thanks for review. Speed is really up now. But there is a problem with mark that ranges. I will explain now.
Patch Set 2: (2 comments) New problem is here
Uploaded patch set 3.
Patch Set 2: (1 comment)
Patch Set 3: If i command selects a block click doesn't behave as ctrl+click. Still working on it.
Patch Set 3: Eike there is a bigger problem. It marks unprotected cells on every sheet even if they are not selected, even if there is no unpr?tected cells on sheets.
Uploaded patch set 4.
Patch Set 4: @Eike, solved all problems. Can you check it?
Patch Set 4: By the way get selected tabs was useless because when we select another tab selection is reseted as Select row, select col. I sent currebt tab now.
Patch Set 4: Hi Eike, I was out of the town. Come back and going on now. I am confused about how is working ScAttrArray::Search but trying to understand. I'll complete this patch ASAP.
Patch Set 5: Wow! at the same time :)
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 1: Code-Review+2
Patch Set 2: (2 comments)
Patch Set 1: Code-Review+2
Patch Set 1: Code-Review+2
Uploaded patch set 1.
Patch Set 2: Published edit on patch set 1
Patch Set 3: Patch Set 2 was rebased
Patch Set 4: Patch Set 3 was rebased
Patch Set 4: (1 comment) Hi Noel,
Patch Set 5: Published edit on patch set 4
Patch Set 6: Published edit on patch set 5
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 2: Eike, i can't understand sorry for taking your time :/. Can you complete this patch if I ask?
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 9.
Uploaded patch set 10.
Patch Set 12: > Change has been successfully cherry-picked as 94699cdec88ae181548d108b4a96f97be1f6c365 > by Mat Kukan Hi Mat, > Change has been successfully cherry-picked as 94699cdec88ae181548d108b4a96f97be1f6c365 > by Mat Kukan Hi Mat, > Change has been successfully cherry-picked as 94699cdec88ae181548d108b4a96f97be1f6c365 > by Mat Kukan Hi Mat, Thank you for helping me.
Uploaded patch set 1.
Uploaded patch set 1.
Restored
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 1: > A polite ping. > > Are you still working on this patch? Yes, I'm still working on this patch.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > Build Started http://ci.libreoffice.org/job/lo_gerrit_master/11128/ Hi Mat, I changed this patch and Thank you for helping me.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 7: Patch Set 2 was rebased
Uploaded patch set 16.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Done
Done
DrawingML::WriteFill gets the awt::Gradient and "FillBitmapURL" from XPropertySet... but ChartWall does not have these properties ... Instead only FillBitpamName and FillGradientName is maintained in properties...
Done
Done
Done
Done
Done
Changed the nPropId to PROP_FillGradientName as nPropId was 158 (for SHAPEPROP_Gradient) and while setting the property it was setting "FillBitMapName" instead of "FillGradientName... Hence Chart Wall was not importing the gradient fill correctly ...
Done; The order of properties in spnCommonPropIds for charts was wrong http://opengrok.libreoffice.org/xref/core/oox/source/drawingml/chart/objectformatter.cxx#466
Done
Actually, GradientStops is the only addition to awt::Gradient, and it is used only here https://gerrit.libreoffice.org/#/c/12056/12/drawinglayer/source/texture/texture.cxx In all other cases awt::Gradient2 is like awt::Gradient.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 2: After the changes in cbcc6189e300b6aa5e9e8e6883598a4d28b770c0 a UT is failing, due to my changes; Will upload another patch shortly.
Abandoned https://gerrit.libreoffice.org/#/c/9185/ already fixes this. The trHeight attribute is added correctly when the docx file is created(SAVED) for the first time in MS Word. On opening the file again and editing the table and saving back, the trHeight element doesn't change and I was using the same element to calculate height. This may not always work. Hence abandoning the patch.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: I had actually added a small change in oox/source/drawingml/customshapes/presetShapeDefinitions.xml so that this will cause the regeneration of the vmlexport-shape-types.cxx without a clean build.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Commit message was updated
Patch Set 4: Commit message was updated
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: (1 comment)
Patch Set 1: (7 comments)
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: yes, I added it specifically to the plotArea, as the Wall does not have a Property ( "FillGradient" which returns an awt::Gradient object ). http://opengrok.libreoffice.org/xref/core/oox/source/export/drawingml.cxx#255 So the DrawingML::WriteGradientFill is not able to export the gradient fill applied to the chart-Wall.
Uploaded patch set 3.
Patch Set 3: (1 comment)
Patch Set 3: (1 comment)
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: (1 comment)
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 6: I commented out "Update" and "Update Page Nos" here instead of commenting out "index->Update()" call from ModelEventListener::notifyEvent. As I only wanted to leave out updating for TOC. Should I comment out that instead ?
Uploaded patch set 7.
Uploaded patch set 8.
Patch Set 2: Looks good to me, but someone else must approve 
Patch Set 2: Looks good to me, but someone else must approve 
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 2.
Uploaded patch set 2.
Patch Set 2: Abandoned Removing trailing white spaces. Uploading again...
Patch Set 2: Restored
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 1: Abandoned Upload was by mistake Uploaded patch set 2. https://gerrit.libreoffice.org/2048/
Patch Set 1: Restored
Patch Set 1: Abandoned https://gerrit.libreoffice.org/2048/
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 3: This patch is based on the other patch OOXML LINEAR which actually adds the basic functionality for GradStops support. https://gerrit.libreoffice.org/#/c/12056/ The patchset 2 build was successful, and the same works at my end. In patchset 3 some changes were reverted, which is why I assume it does not compile. I was busy with work commitments and could not contribute. I'll continue working on this from mid September
Patch Set 2: No, I am currently not working on this. :P The patchset 2 is actually the one which works.
Patch Set 3: sure, thanks!!!
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 6: GradientStop.RelativePosition is in percent 0% to 100% as you have mentioned. I had considered it as short following :: http://opengrok.libreoffice.org/xref/core/offapi/com/sun/star/drawing/GraphicObjectShape.idl#95. However I changed it to 'long' following Stephan's comment :: https://gerrit.libreoffice.org/#/c/12056/4/offapi/com/sun/star/awt/GradientStop.idl,cm
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 9.
Patch Set 9: Should I rebase this patch, if it can be merged ?
Uploaded patch set 10.
Uploaded patch set 11.
Uploaded patch set 12.
Patch Set 12: (1 comment)
Patch Set 12: No, I am currently not working on this.
Patch Set 12: sure, thanks !!!
Uploaded patch set 1.
Abandoned Abandoning this for now, will resume work later.
Yes that too can be done. I will update the patch.
I have attached sample pie chart files to bugzilla report and a screenshot showing the possible rotation values. During import we properly convert 0..90 angle received for pie chart to -90..90 range (ref http://opengrok.libreoffice.org/xref/core/oox/source/drawingml/chart/plotareaconverter.cxx#224 ) Here I have added reverse calculation.
According to spec OOXML supports -90 to 90 for rotX.But it is observe that for pie chart type it supports 0 to 90 for rotx. During import for pie chart X rotation in View3DConverter::convertFromModel() // X rotation a.k.a. elevation (map OOXML [0..90] to Chart2 [-90,0]) nRotationX = getLimitedValue< sal_Int32, sal_Int32 >( mrModel.monRotationX.get( 15 ), 0, 90 ) - 90; http://opengrok.libreoffice.org/xref/core/oox/source/drawingml/chart/plotareaconverter.cxx#224
if(nBulletColor > 0) will it solve the issue?
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8: Patch Set 7 was rebased.
Patch Set 8: (1 comment)
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 11.
Uploaded patch set 12: Patch Set 11 was rebased.
Uploaded patch set 13.
Patch Set 14: Patch Set 13 was rebased
Uploaded patch set 16.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5: Patch Set 4 was rebased.
Uploaded patch set 6.
Uploaded patch set 7: Patch Set 6 was rebased.
Uploaded patch set 8.
Patch Set 9: Patch Set 8 was rebased
Uploaded patch set 10.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 5: Patch Set 4 was rebased
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: @David Tardon <dtardon@redhat.com> These changes are not reflected in master??
Patch Set 3: Ok What I have to do now so that the changes will be in master and does not produce any invalid documents??
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: Hi, I have gone through your changes. Clustered bar chart supports OUTSIDE label positioning as well. If file containing clustered bar chart with OUTSIDE label position, is RTed then the label position changes to CENTER as it is default. Whereas these changes RT it correctly http://opengrok.libreoffice.org/xref/core/oox/source/export/chartexport.cxx#2674 So my unit test case is not working on it.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: According to ECMA axis id is unsigned int axId (21.2.2.9) In original file the axis id is negative still MS-Word allow to open that file properly. When we save that file using MS-Word it converts all negative axis id to the absolute values. so that in libreoffice i convert that negative axis id to the absolute value. I attached some more files having axis id negative to the bugzill report. original file: <c:axId val="-1877986336"/> <c:axId val="-1877979264"/> After saving same file in MS-Word : <c:axId val="120217088"/> <c:axId val="54120960"/>
Patch Set 1: Will you please share that gerrit link which you had fix for this??
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: (1 comment)
Uploaded patch set 3.
Patch Set 3: (1 comment)
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Abandoned Fix by http://cgit.freedesktop.org/libreoffice/core/commit/?id=120dca2608a23f70b7ab8fc658a10123eb08e58a
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Patch Set 4: Patch Set 3 was rebased
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 7: Patch Set 6 was rebased
Uploaded patch set 1.
Abandoned Need different solution as suggested by Markus Mohrhard
Patch Set 1: (1 comment)
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 6: Patch Set 5 was rebased
Yes..I have corrected it in a new patch : https://gerrit.libreoffice.org/#/c/10912/1/sw/source/filter/ww8/docxattributeoutput.cxx,cm Thanks for your input :)
Okay. My concern is if w:drawing is already open then do not start a new drawing. So instead of negting the conditions should I modify it like; if(IsDrawingOpen() && SahpeType="CustomShape") //Postpone output of drawing else writeDMLDrawing(); Will it be the correct apporach ?
Gerrit Review Link : https://gerrit.libreoffice.org/#/c/6924/
Gerrit Review Link : https://gerrit.libreoffice.org/#/c/7032/
Gerrit Review Link : https://gerrit.libreoffice.org/#/c/7002/
Gerrit Review Link : https://gerrit.libreoffice.org/#/c/7048/
Gerrit Review Link : https://gerrit.libreoffice.org/#/c/7000/3
What you mentioned is true. But there won't be such case. Because as you can observe there are total 4 series mentioned in array sSeries[]. values-first corresponds to series Open, values-max => series High, values-min => series Low, values-last => series Close By default its High-Low-Open (idx would be 1,2,3 and n_idxVal would be 1,2,3 too) If Open is present then it will be Open-High-Low-Close (idx would be 0,1,2,3,4 and n_idxVal would be 1,2,3,4 as expected by MSOffice) The case that you mentioned will never occur. You can also check the Stock chart types in MS Office.
I am not getting what you are trying to say..can you please elaborate more ? Also if xLabeledSeq.is() is true then XML_idx should start from 1 and from zero. Hence n_idxVal is introduced to take care of this situation.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: (1 comment)
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: (1 comment)
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned Skipping the AutoSpacing form styles.xml property is a workaround. So need to implement another solution.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 3: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Abandoned Need to search the commit id. Right now abandoning this issue.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 2.
Patch Set 3: (5 inline comments) Please look at inline comments. Note : These Unit Test cases were pushed by me as they were dependent on "https://gerrit.libreoffice.org/#/c/6957/" which is being merged. So is it okay if the respective owner of the specified Unit Test cases, takes care of his/her UT and make a commit ?
Abandoned I am Abandoning this patch as the respective code holder will now push his/her Unit Test case.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 1: Abandoned
Uploaded patch set 2.
Patch Set 2: (1 inline comment) 
Patch Set 2: (1 inline comment) 
Uploaded patch set 3.
Patch Set 1: Hi miklos, In DocxExport::WriteFootnotesEndnotes(), the serializer pointer is set to word/footnotes.xml; but still the paragraph tag goes into document.xml after </w:document> instead of footnotes.xml
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Patch Set 4: Hi Miklos, Sorry I missed your comment. I did changes in code and pushed for review. Should I add unit test case for Patch 1 and Push it again? Because Patch 4 solves only footnotes problem. While patch 1 solves more than 3 files corruption issues related to sectPr
Patch Set 4: I will upload new diff in which contains patch 1. Issue: I have one file in which after roundtrip more than 20+ additional sectPr gets added in file, So it increases number of pages in file. In orignial file there are only 6 pages and in Roundrip file there are 211 pages, I have added Unit test case in which I checked sectPr in document.xml
Uploaded patch set 2.
Patch Set 2: Hi Miklos, I have updated Patch Set-2 with Export Unit Test for GIF image. I will upload new review for PNG Crop Unit Test in Export.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 1: Thank you for commenting Jan Holesovsky. Reference for this bug in bugzilla is: https://bugs.freedesktop.org/show_bug.cgi?id=48735
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Uploaded patch set 3: Patch Set 2 was rebased.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Patch Set 2: H? Bjrn, I fixed the issues you mentioned. however, I got a problem. yes, i never run this test. I'm using this command. (make PythonTest_sw_python). But I don't see what the code is doing. What do we expect for test results? Does the code work the way we want to? I want to learn them. I've used before this command (python test_name.py). it was enough for the unit tests result. I can't run this way in libreoffice project. how shall I proceed? can you help me on this ? Thank you. Kader
Uploaded patch set 3.
Abandoned I will continue another single patch.
Uploaded patch set 1.
Abandoned I will continue another single patch.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Abandoned I will continue another single patch.
Uploaded patch set 1.
Abandoned I couldn't fix merge conflict.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Thanks for your help. I think I solved the error you said. Can you check again please?
Uploaded patch set 1.
Abandoned merge conflict problem
Uploaded patch set 1.
Abandoned merge conflict problem
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: H? Jan, I made only minor modifications. I wrote before this test(https://gerrit.libreoffice.org/#/c/21853/). How deficiencies? I need to send again? Jenkins didn't work?
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: I'm not getting the error on Linux right now. But why Jenkins gives error ?is it because of the assertequals statement? I thought I'd use it this way: assertequals(first, second, msg). a wrong usage?
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Patch Set 3: Commit message was updated
Uploaded patch set 4.
Patch Set 5: Commit message was updated
Uploaded patch set 1.
Abandoned wrong patch
Uploaded patch set 1.
Patch Set 1: When discussed? Yesterday, I got mail from Jan. Jan support me on this. What should I do in this situation? ************** Hi Thanks a lot for the picture. I just had a discussion with a couple of other people. Please start working at the bug you asked about (45904), but there are a couple of BIG BUTs: - please save all the calc (sc) to last - please make your commit message "converted java test to python" - do NOT refer to the bug in the commit. Background for this, is that we have one person who feels strongly about C++, while the rest of us just want it converted....Your work is really apriciated, and fact is that it will not be done for C++. Looking forward to blog about your camp, keep up the motivation. Please tell the others, that we are all proud of your work. There is at the moment an efford ongoing to organize a formal hackathon (hackfest) in turkey. I will follow up on that in the weeks to come. Keep hacking and having fun. rgds jan i. ****************
Abandoned
Patch Set 1: I'm sorry for the confusion I created. I'm a little pushy to write a test. I shouldn't sent Jan's email to everyone. It's not Jan's fault. He wanted to help me. so it's my fault. I apologize everyone and especially from Jan. I'll try to write a test for cpp. I will try to translate all the remaining tests. I promise that I will work hard. so I'll convert all tests for cpp. I will eliminate this problem. Thanks.
Uploaded patch set 1.
Patch Set 2: Thanks for your help Markus. I checked the patch that you sent. I saw my mistakes. I'll be careful to avoid making the same mistakes. Thanks lot again.
Uploaded patch set 3.
Uploaded patch set 1.
Patch Set 1: Hi, I finished translating the this test but I know this test doesn't work. There is a problem. Each step in the test is running but I can made a logic error . I can't create correct hash values. I need a little help.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: what is the reason of the error? for spaces ? in fact, I think the error is in this line and similar lines self.assertEqual(aExpectation.m_nSetupHash, self.m_nSetupHash). Because the generated values are not equal. I couldn't find the correct hash value. but if the reason is space, I can fix the patch again. Thanks Jan.
Patch Set 3: Yes I looked, but I don't get the same error. so there was a little confusion... FAIL: test_checkBookmarks (check_bookmarks.CheckBookmarks) ---------------------------------------------------------------------- Traceback (most recent call last): File "/ev/kadertarlan/tmpfs/libreoffice/sw/qa/python/check_bookmarks.py", line 90, in test_checkBookmarks self.m_actualHashes.assertExpectation(self.get20111110Expectations()) File "/ev/kadertarlan/tmpfs/libreoffice/sw/qa/python/check_bookmarks.py", line 41, in assertExpectation self.assertEqual(aExpectation.m_nSetupHash, self.m_nSetupHash) AssertionError: '-4b0706744e8452fe1ae9d5e1c28cf70fb6194795' != '3a8bb8a26c6b8d4cb972b73f9746ca26cdb75708' - -4b0706744e8452fe1ae9d5e1c28cf70fb6194795 + 3a8bb8a26c6b8d4cb972b73f9746ca26cdb75708 ---------------------------------------------------------------------- Ran 17 tests in 6.181s FAILED (failures=1, expected failures=1) 3a8bb8a26c6b8d4cb972b73f9746ca26cdb75708 3e15ed4b083cdca3e07432c2965ed5cf2b6674c3 b7069f1b2e7d5c96bde0a093363e0a8974fa37c6 b7069f1b2e7d5c96bde0a093363e0a8974fa37c6
Uploaded patch set 4.
Patch Set 4: Yes I'm aware. and I've mentioned this problem but I haven't figured out. I guess I can't fix this test. :(
Patch Set 5: Hi Jan , did you make any new changes ? Can you please share with me the output of diff ?
Abandoned CheckBookmarks.java should not be removed.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Hi Markus, Did you review this test ? Why not accepted? Can you help me to make correction?
Uploaded patch set 1.
Patch Set 1: Hi Jan, I keep getting an error here. So, I fixed here. ............./ev/kadertarlan/libreoffice/sw/qa/python/check_table.py:432: DeprecationWarning: Please use assertEqual instead. self.assertEquals(xChartdataprovider.ImplementationName, 'SwChartDataProvider') ..........x..:1: parser error : Extra content at the end of the document
Uploaded patch set 1.
Uploaded patch set 4.
Uploaded patch set 1.
Abandoned I can't figure out the problem
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > A polite ping. > > Are you still working on this patch? > A polite ping. > > Are you still working on this patch? I work for another patch:https://bugs.documentfoundation.org/show_bug.cgi?id=32364
Uploaded patch set 1.
Patch Set 1: > A polite ping. > > Are you still working on this patch? I work for another patch:https://bugs.documentfoundation.org/show_bug.cgi?id=32364
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4: Patch Set 3 was rebased.
Uploaded patch set 1.
Patch Set 4: > Patch Set 4: Patch Set 3 was rebased This patch is wrong. Can you please look this patch ( https://gerrit.libreoffice.org/#/c/21482/ ). This is the not wrong one.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 8.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4: Patch Set 3 was rebased.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > (1 comment) If I do not include file like this, build failed. What do you suggest for including this file ?
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: > C:/cygwin/home/tdf/lode/jenkins/workspace/lo_gerrit_master/Gerrit/Gerrit/Platform/Windows/vcl/win/gdi/salgdi.cxx(625) > : error C2259: 'WinSalGraphicsImpl' : cannot instantiate abstract > class > due to following members: > 'void SalGraphicsImpl::SetXORMode(bool,bool)' : is abstract > c:cygwinhometdflodejenkinsworkspacelo_gerrit_mastergerritgerritplatformwindowsvclincsalgdiimpl.hxx(80) > : see declaration of 'SalGraphicsImpl::SetXORMode' > > > you can't remove the parameter only in the Windows-specific derived > class, if you want to remove it you have to remove it in > SalGraphicsImpl and every class derived from that (there is at > least one per platform). > > the bug says that the Mac OS X backend may or may not actually use > the parameter, so the first thing to be done here is to clarify the > situation on Mac OS X - if it turns out that the 2nd parameter is > still in use there, it cannot be removed. Thank you for suggestions. I will work as soon as.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3: Patch Set 2 was rebased.
Uploaded patch set 4.
Patch Set 4: > (4 comments) if I pass its value to the macro directly, it would want to do 0=0|WB_Border, but we can not assign to 0. And if I send wb_tabstop to the macro, macro would want to change that value, but wb_tabstop is read-only. I don't know if I thought right
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
I think these items should all have the same structure: first level index item "Basic IDE options" and second level index item the indivual strings "Autocorrection", "Autocompletion" ...
AutoClose --> Autoclose
Besides the problem, that only sbasic files are treated yet (see mail), the paragraph with role="bascode" needs to be child of <bascode>...</bascode> element.
parent bascode element is missing
No need for that line. First level term is generated automatically.
typo: AutorCorrection --> AutoCorrection CamelCase-problem: UI has Autocorrection; same for other UI items
Other settings from Tools - Options are under the keyword "options" not under "setting options". You should use only "options" here too.
Not sure, but I think it should be: typing and help --> typing, and helps
Keystrokes have type="keycode".
Basic code should not be translated, add a localize="false".
Please stick to the name convention to use a 's' as prefix for an identifier of type string.
It might work in this case, but it is not nice to use a parameter, when it is not sure that it exists. Basic has the function IsMissing() to detect such.
Please use space not tab.
InsertSection is never called with a parameter. Why do you introduce such optional parameter?
SetCharStyle is included in InsertTag. Besides that, here finishing this style mode is missing.
fun_aggregate -> func_aggregate
fun_aggregate -> func_aggregate
textscalc01fun_aggregatexml -> textscalc01func_aggregatexml
fun_aggregate -> func_aggregate
fun_aggregate -> func_aggregate
hid="hid/HID_FUNC_AGGREGATE" -> hid="."
id is missing
division by zero in case nothing is selected?
Such attribute does not exist in ODF 1.2, the document would not be valid.
It seems to me, that here and in FontSize_larger the unit of the parent font size is missing.
I kept MITER because it has been there. I agree with you, that BEVEL would come nearer to NONE. Would you mind change it, in case you push the patch?
So please let it be postponed.
fMiterMinimumAngle is in radians, therefore angle has to be in radians too. In the old version, constMiterMinimumAngle has been in degrees, therefore /F_PI180 was necessary. But now it has to be angle = F_PI - std::fabs(angle);
I thought DBG_ASSERT should not be used in new code? See tdf#43157.
Please notice the logic: If condition is true, then the message is generated. https://docs.libreoffice.org/sal/html/sal_log.html
Patch Set 1: I looks good to me. I have ask Armin and he likes it too.
Patch Set 3: The fix is not complete. If a child element has set visibility="visible" it has to be shown, even when the parent is hidden. Test the last too test files in https://issues.apache.org/ooo/show_bug.cgi?id=125321. There is likely a second problem, but I cannot test it because of the first one: In contrast to display="none" in case of visible="hidden" the place the element would need, is reserved, similar to "phantom" in Math. In svg this affects the tspan element.
Patch Set 1: This need some tweaks before it is merged I think, that this should not be done. (1) If you insert a background (www-back) from the Gallery to a Writer/Web document, it is always linked. Removing the source might break old documents. (2) If you insert a background as page background from the Gallery to a Writer document, it is linked as default. Removing the source might break old documents. (3) If you will make a list with graphic bullets, it uses the bullets from the Gallery. Users might have checked the option to link them. Removing the source might break old documents. (4) Currently the predefined list style sets use the bullets from the Gallery. Unless the list styles are changed the bullets in the Gallery should not be removed. (5) Removing sounds make no sense at all. There are no new ones. (6) The pictures "flower" and "apple" should remain, because it is very handy to have common pictures, when you write documentations.
Patch Set 1: Word users might expect it at this place. Are there user demands to remove it?
Patch Set 1: This need some tweaks before it is merged Vertices, which are on mid position, and are first or last of a sub-path, are missing. See bug fdo63235 for an example.
Patch Set 2: This need some tweaks before it is merged Still marker missing. The error is in the condition "nMarkerCount > 2". See attachments 86519:"Sample with marker on sequence of points" and 86937:"line_gap_line_gap_line pattern" of bug fdo63235.
Patch Set 3: Looks good to me, but someone else must approve All my test files have now the correct kind of markers. It works not only in simple cases but also for zero-length path segments, for single points, for a sequence of lines with gaps, and for closed paths.
Patch Set 4: Looks good to me, but someone else must approve Still correct. And now clear and efficient. I think, it is time to integrate it. But I have no rights to do it.
Patch Set 4: This need some tweaks before it is merged OOps. Christina, it seems, you have missed to remove some lines from your patch set, around line 940.
Patch Set 5: Looks good to me, but someone else must approve It is all OK now :)
Patch Set 1: This need some tweaks before it is merged The patch does not solve the problem. Try the example files, which I have attached to fdo63235.
Patch Set 4: This need some tweaks before it is merged Your condition catches negative values like -1.1 too. Your condition catches fractions, which are not unit fractions, too, for example 5/7. You need to check, that the given double can indeed be represented by 1/n, otherwise the calculation will produce mathematical nonsense.
Patch Set 2: This need some tweaks before it is merged The toolbar.dtd does not fit to WindowState.xcs because the entitiy "style" in toolbar.dtd has only three possible values, but WindowState.xcs uses four values. I'm not sure whether a new attribute is needed in toolbar.dtd because toolbaritem has already an attribute "style", which can perhaps be used in the implementation. I miss an issues for this change.
Patch Set 3: Hi Christina, I think it is not correct to scale dependent on preserveAspectRatio here, because that is done in SvgAspectRatio::createMapping. I think in case of no width/height but given viewBox, the target should have the same aspect ratio as the viewBox, because the viewBox gives an intrinsic aspect ratio. At least I understand section 7.12 of http://www.w3.org/TR/SVG/coords.html this way.
Patch Set 4: Please check the case, that width and height are given. It seems to me, that they are no longer considered in target range.
Patch Set 2: Hi Michael, I do not understand your objection. "<slide-name>" should be the place-holder text in Masterview. In Masterview no current slide number exists, so "Slide 1" makes no sense. Do you see the text "<slide-name>" at a different place than is style:master-page? (I have no build to look myself.) Besides that, the actual slide name need not be of the kind "Slide 1" but can be any user-defined string.
Patch Set 2: Is the change to Apache License intended? Are you going to write more into odff.xhp? Otherwise it is a candidate for indexer="exclude", because it is confusing for an user, to get such content by full text search. The element 'filename' in source/text/scalc/01/func_timevalue.xhp has an absolute path in its value. It needs to be changed back to the relative path as it has been before. I know utf-8 is the default, but it is common practice to provide the encoding attribute. Was that change intended?
Patch Set 1: Please add a parameter description in b2dpolygontools.hxx.
Patch Set 1: Code-Review-1 Those MIME types seem to be not registered; I do not find them on https://www.iana.org/form/media-types. From where do you get them? Perhaps you should use the mapping from Apache https://svn-master.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types. That would result in application/x-msmetafile for .wmf, and application/postscript for .eps, and image/x-pict for .pct.
Patch Set 1: -Code-Review OK, I searched a little bit around. There seems to be no preferred mimetype for those. I found types in /filter/source/config/fragments/types in LO.
Uploaded patch set 1.
Patch Set 1: Code-Review+1 It might not be the absolute final solution, but it makes the new feature "Import MathML from Clipboard" usable. Therefore I support to integrate your patch.
Patch Set 1: Code-Review-1 (6 comments) Hi Oliver, I have made some inline comments. (There I are likely more problems, but it is my first inline commenting and I will now test the workflow.)
Patch Set 1: The connection between the checkboxes in Tools-Options and the help is missing. I mean, when I press Strg-F1 on such checkbox, I get no extented tip.
Patch Set 2: Code-Review-1 (4 comments) The extended tips on the checkboxes work well now; further comments inline.
Patch Set 2: Hi Olivier, please have a look at xmlhelp.dtd. "meta" is a 'must have' element and removing it makes the file invalid.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 1: Code-Review-1 It doesn't work for me. There is still "Drois Sans" in new files. Besides that I suggest to modify the usual character styles too to have double strike through (perhaps without the two internet link styles). In addition it would help users, if the display is set to "Custom styles". And it might be useful to switch to Web view to show the page similar to the web browser kind in the help viewer.
Patch Set 1: The style keeps the setting "Custom Styles" when you save it in that state. The same is true for Web View.
Patch Set 2: hlp_code and hlp_example are still "monospace". hlp_head should be "Liberation Sans" Consistency needs a wider discussion, because default.css and xmlhelp2soffice.xsl are affected too.=>Bugzilla
Patch Set 4: Code-Review+1 It is usable now.
Patch Set 1: That will not work with Windows native file picker, for details see tdf#43021. The question is, whether we want a workaround for Windows.
Patch Set 2: (3 comments)
Patch Set 1: Code-Review-1 As far as I know, the hid-attribute in the ahelp-element is not evaluated. The extended tip is associated with the previous hid in a bookmark. See http://mail-archives.apache.org/mod_mbox/incubator-ooo-dev/201202.mbox/%3CCALApVL%3D9%2B1o7McyB5V_%3D42mWrU7R3tJhR1P2YSU1JcZQXbrSsw%40mail.gmail.com%3E When I follow the explanation of Uwe Fischer in that mail, I think a correct solution would be to use the constant string hid="." The variable ID does not exist at that place and seems to be a remainder on the way to handle help in OOo3.*.
Patch Set 1: (2 comments)
Uploaded patch set 1.
Patch Set 1: Shouldn' the file name be "func_aggregate", same structure as the other files? func_ is abbreviation of function. Why the change in id="hd_id3144386" for PRODUCT in file 04060106.xhp?
Patch Set 2: (7 comments)
Patch Set 6: Code-Review+1 I think, that the technical part is OK now. In the content the hint is missing, that this is not a function defined in ODF 1.2 standard. But as the other com.microsoft.foo functions miss that too, I suggest to track that in an issue and correct it later.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 3: Code-Review-1 It is still confusing, what the purpose of this changes is. In the current linear gradient implementation a gradient exists independent of a shape. Therefore "diagonal" makes no sense. To get the same behavior as the gradient in MS, where a "45" linear gradient is indeed diagonal for every rectangle, a new kind of gradient is needed. This can be the svg:linearGradient as used in ODF1.2. That would not need any private attribute. If this is only about a restriction in the UI, I think it should be discussed with the design-group. If the UI gives similar buttons as MS, this will arouse expectations, which currently cannot be hold.
Patch Set 3: Muthu, that does not address my concerns. Please see the issue itself for further comments.
Patch Set 3: (1 comment)
Patch Set 6: Comment regarding GradientStop.RelativePosition: As it is relative, data type "long" makes no sense to me. Common values for a relative value are from the range 0 to 1 or in percentage syntax from 0% to 100%. ODF1.2 allows the element <svg:linearGradient> which has a child element <svg:stop>. This has the corresponding attribute svg:offset. It has data type double. Comment regarding color: ODF1.2 allowes <svg:linearGradien>. This has in its <svg:stop> child element the attribute svg:stop-opacity. com::sun::star::util::Color (in GradientStop.idl) can carry this information because it has an alpha channel. But basegfx::BColor is a B3DTuple and has only rgb. Opacity might not be necessary for OOXML but I think, that the design should be made in view of ODF1.2 too and therefore consider opacity in the internal maGradientStops vector.
Patch Set 6: I meant that GradientStop.RelativePosition should be double, because it is double in SVG.
Patch Set 12: Hi, I have some remarks/concerns/questions. (1) For me the natural way would be to implement the svg linear gradient as new gradient type as defined in ODF and then use it for import from OOXML. There exist already a lot of svg solutions, for example the SvgLinearGradientPrimitive2D. (2) It is not documented, which unit is used in "double" in a GradientStop-tuple. To get 12.5% it could be 12.5 or 0.125 (3) Is the sequence of stops ordered in the "double"-values? For svg, sorting is done in SvgGradientHelper::checkPreconditions(). When you decide to hold ordering in the member, then you need an "insert" and a "delete" method. Otherwise ordering is needed before rendering. It should be documented somewhere, whether the stops are ordered. (4) The class Impl_Gradient contains already the members maStartColor and maEndEndColor. They might conflict with the first and last stop. There is no documentation about precedence and ODF does not have such mixture. Implementing svg linear gradient would avoid such problems. (5) The angle in MS linear gradient acts the same as if the gradient would be applied with svg:gradientUnits="objectBoundingBox". It is not possible to fill a shape in that way with the current gradient implementation, but it would be possible with svg linear gradient. (6) You have added a member to already existing class. Wouldn't that be an inheritance? [As mentioned in (1) I would go a total different way.]
Patch Set 1: Code-Review-1 (1 comment) See comment
Patch Set 1: Code-Review-1 These images are used in help page helpcontent2\source\text\shared\01\01010000.xhp, that is help page with Heading "New".
Patch Set 1: (1 comment)
Patch Set 3: LO uses 90px/in (=90px/72pt) in its own export to svg (at least on my PC, what do you get?). So where a conversion is needed on import, it should use the same setting. I have no strong opinion about how many px should be used for font-size="medium". This value alone says nothing about the rendered size. The unit px is equal to the 'user unit' at the place where px it currently used. Therefore the real size depends highly on viewBox and transformations. Other application have no unique value. Browser base the font-size="medium" to the user's default font size. Google Chrom and Seamonkey seem to use "medium"=16px as predefined value, Internet Explorer 18px, Batik seems to use 12px, and Corel Draw uses a value between 10px and 11px. For the table of scaling values for the other absolute-size keywords, I would stick to factor 1.2, as it is recommended in the first edition of CSS2, because factor 1.5 was noticed as bad. All the other things mentioned in the later specification of CSS2 (e.g. resolution of the device, quality and availability of fonts, no fixed ratio, avoiding <9px) are not necessary in a first implementation. I suggest, to improve the mapping in case of user complains.
Patch Set 4: 96dpi is OK for me. It conforms to CSS 2.1. I have written tdf#97275 to keep track that the export has to be changed as well. Perhaps you add the bug number to the commit message?
Uploaded patch set 1.
Patch Set 1: The file links.txt contains the mapping from the requested icon to a really existing icon for those cases, where the requested icon is not contained in the icon theme and nevertheless an icon should appear in the UI. In addition the file contains mappings for those cases, where different commands use the same icon. So when a specific icon for a command exists, then there should be no line in the file links.txt. The order in the file links.txt is first requested icon, second to be uses ersatz-icon. An icon is automatically requested via the command name, e.g. .uno:FontColor requests the icons lc_fontcolor.png and sc_fontcolor.png
Patch Set 5: Code-Review-1 Have you read my comment in tdf#97383? I think it is a wrong approach to do direct manipulation in the else-part. If the image has no preserveAspectRatio set, then the variable rRatio has to be set to the default values, which are specified for this case. And then the part, which is now in the then-part, is valid in both cases and can be executed outside of if-then-else.
Patch Set 7: Code-Review+1 Hi Armin, your last solution looks good to me. Your changes regarding unit coordinates work well in my test cases. The commit message is not correct. The behavior of the image element is well specified in https://www.w3.org/TR/SVG/struct.html#ImageElement and refers not only to embedded images, but to external referenced ones too.
Patch Set 6: I think, the relevant rule is in https://www.w3.org/TR/CSS2/syndata.html, section 4.3.2 Lengths. "If a negative length value is set on a property that does not allow negative length values, the declaration is ignored." I think, that in such case the usual rules of cascading and inheritance took place. According to https://www.w3.org/TR/CSS2/propidx.html the default value for font-size is not a special length but the value "medium".
Patch Set 1: Code-Review-1 Other special cases need to be considered too.
Patch Set 1: Yousuf, can you please abandon this, I have no right to do it. The current version of my patch is in Gerrit 22363.
Uploaded patch set 1.
Patch Set 2: Code-Review-1 You should only generate new icons, if there does not exist a suitable one. For gallery e.g. there is already the correct one in cmd. See links.txt of tango for how to add the existing ones.
Uploaded patch set 1.
Patch Set 1: Shouldn't SvgANode::parseAttribute handle the xlink:* attributes and the target attribute?
Patch Set 1: Hi Xisco, then I think it would be appropriate to add a "ToDo" comment.
Uploaded patch set 1.
Patch Set 1: Hi Jan, I'm currently discussing the problem with Xisco, who is the author of that test.
Uploaded patch set 2.
Patch Set 3: Commit message was updated
Uploaded patch set 4.
Patch Set 5: Commit message was updated
Uploaded patch set 6.
Patch Set 7: Commit message was updated
Patch Set 8: Stephan, you are right. It is my fault. It is in line#546. fW = fChildHeight / fViewBoxRatio; is wrong. It must be fW = fChildHeight * fViewBoxRatio;
Uploaded patch set 1.
Patch Set 1: Code-Review-1 Abandon, because Jan Iversen has committed the needed change already.
Abandoned already committed
Patch Set 1: I still do not see the fill from the "defs" parent but I see the fill from line#1974. I don't know why, I see no error in the structure of your proposal.
Patch Set 2: With a g element as ancestor it works fine. I have written bug 98599 for defs attribute not evaluated.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 3: Code-Review-1 Import of a template into the folder would not be possible, if the folder was not shown.
Patch Set 3: I dislike the idea of a modal dialog. Please discuss the idea on the UX mailing list.
Patch Set 2: Code-Review+1 That is tdf#94057, please add it in the commit message or write a comment in the bug report.
Patch Set 1: Code-Review-1 The old template manager had a preview and it cannot be a solution to remove the preview instead of repairing it. Read tdf#64292 too.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: (2 comments)
Patch Set 4: Code-Review-1 (1 comment)
Uploaded patch set 5.
Patch Set 5: Code-Review-1 I have accidentally removed Armins changes. Please excuse Armin. Only /F_PI180 has to be removed.
Uploaded patch set 6.
Patch Set 6: Code-Review+1 Armin, you mean to push it? Yes,I think, it is fine now.
Uploaded patch set 1.
Patch Set 1: Code-Review+1 Jan, I have tested it with some formulas, which have shown the errors. The view is now as good as before in LO5.1. I have attached the file to bug tdf#53472, so that it can be used for the next attempt to get a scaling integral sign. BTW, the attempt 'intd' is buggy too.
Uploaded patch set 1.
Patch Set 6: Code-Review-1 There is nothing to "fix". The current behavior of page offset is correct.
Patch Set 3: How does this work together with alignments made by a tabulator in a text document table cell? Number formats are used in Writer tables too.
Patch Set 3: My question is about the referenced ODF issue. ODF has at least the attributes <fo:text-align> and <style:tab-stop>, and it has to be specified how the new attribute <number:fill-character> will interact with these settings. Please add such information to OFFICE-3765. A remark whether something is special in RTL-writing environments would be nice too.
Patch Set 3: (1 comment)
Patch Set 4: (1 comment)
Patch Set 2: If you keep the part, which toggles s1 and s2, so that the test statistic is always greater 1, then you get more accuracy in case one variance is huge and the FTEST result is near zero. But I think, for all realistic use cases with alpha=5% is makes no difference.
Patch Set 1: Hi Michael, I had written tdf#97630 for this bug.
Patch Set 2: I have tested the patch for Windows 7. There it fixes the problem. I don't know, whether the Linux build failure is related, for my Windows build environment I have got no errors.
Patch Set 2: Please have a look at tdf#100975. I think, the patch should not be merged, but these parts should be moved back to the Area tab. Please discuss with Design-team.
Patch Set 4: Hi Samuel, "This patch will only be in 5.3". I agree, that the patch is OK for 5.3. But the problem is 5.2. These settings (hatch background and gradient step) are already removed from Area tab in upcoming 5.2, but the changes to bring back the functions to page background will not be included in release of 5.2. Merging only this patch to 5.2 will not solve the missing settings for page background.
Patch Set 2: Is your attachment in tdf#100836 obsolete then?
Patch Set 1: Shouldn't it be the same clamp as for SVGTokenFillOpacity?
Patch Set 1: The command .uno:ClickChangeRotations toggles the behavior between the click mode "1.click select, 2.click rotate" and the click mode "1.click select, futher click stay selected". Please point to the decision to remove this feature.
Patch Set 1: Code-Review-1 The command .uno:ClickChangeRotation does exactly what the help says, it would do, and it works correctly. Most users will use it in "on" (default) state. But I can imagine, that some users, who have restricted motor abilities, need it in state "off".
Patch Set 7: Please revert. The patch does not work, see comments in the issue.
Uploaded patch set 1.
Patch Set 1: Code-Review-1 See comments in the issue.
Patch Set 1: Code-Review-1 ODF has no restriction for x. In case x<0 the return value is 0. See http://docs.oasis-open.org/office/v1.2/os/OpenDocument-v1.2-os-part2.html#__RefHeading__1018684_715980110
Patch Set 1: CTL is "Complex Text Layout". The two check-boxes are new in the Find&Replace dialog and no help texts exist. I guess it means, that these options are only relevant, if you search in text in CTL-languages, for example in Hebrew.
Patch Set 1: In Hebrew it works. If "Ignore diacritics" is checked, a search for ?? will also find ? . But in German it does not work. A search for  will not find a . So I think, the remark "CTL" should not be removed. But an addition to the help is needed to explain this option. For diacritics in Hebrew read e.g. https://en.wikipedia.org/wiki/Niqqud
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 1: The element <xsl:comment> produces a comment in the output tree. Use the filter and you will see <!-- "li span.odfLiEnd" - IE 7 issue--> in the generated file. A part <!-- --> in the file header.xsl is a comment for the filter itself. It is used e.g. to include the license. Markus: Why do you think there is something wrong with <xsl:comment>?
Patch Set 1: Markus: If you think an xml-kind comment should not be inside a css, then you can use <xsl:text>/*li span.odfLiEnd" - IE 7 issue*/</xsl:text>
Uploaded patch set 1.
Patch Set 3: The expected value in G2, G4, G5, G6, G16 is one off. Should be 39.8154332247249 rounded from 39.81543322472485668597380... But is 39.8154332247248 See http://www.wolframalpha.com/input/?i=cosh%285.0%2B12.0*i%29
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: The patch is still waiting to be reviewed. There is nothing to do from my side.
Patch Set 2: Hi Armin, this is not about interactive deletion tool, but about simple point deletion. Draw a filled Bezier-curve with two points using the filled Bezier-curve tool from the toolbar. Set mode to "insert points" in the toolbar and add a third point by mouse click. Then select this points and click on "delete points" in the toolbar. Expected behavior: The currently inserted point is deleted. Seen behavior: Whole object is deleted.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 1: The sheet has still the wrong values in column G.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Patch Set 1: I think, there is more broken than a missing item in the UI, see my comments in tdf#98477
Patch Set 1: Code-Review-1 Read comment in issue
Patch Set 2: ww8par6.cxx, line 377: Raender = Rnder, that is margin in English
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Patch Set 4: Commit message was updated
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 7.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Patch Set 4: Commit message was updated
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 6.
Patch Set 6: @Caoln McNamara I have updated the code(https://gerrit.libreoffice.org/#/c/13811/). Kindly review it.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Patch Set 4: Commit message was updated
Patch Set 5: Commit message was updated
Patch Set 6: Commit message was updated
Patch Set 7: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Commit message was updated
Abandoned
Restored
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3: Patch Set 2 was rebased.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: Hi, I hope everything is ok now. Thank you for your tips :)
Uploaded patch set 1.
Abandoned squashed into one commit
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Done
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Patch Set 4: Commit message was updated
Patch Set 4: @Tor Lillqvist Thanks for the suggestion. I have renamed the variable aMailer to bRemoveInvisible.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 6: (1 comment) I have committed the updated patch with the required changes.
Patch Set 6: The link to the patch is: https://gerrit.libreoffice.org/#/c/14994/
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Patch Set 2: The test case for the patch has been added. THe link to test case is: https://gerrit.libreoffice.org/#/c/10454/
Patch Set 3: Commit message was updated
Patch Set 4: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Patch Set 4: Commit message was updated
Uploaded patch set 5.
Patch Set 6: Commit message was updated
Uploaded patch set 1.
Patch Set 2: Commit message was updated
Uploaded patch set 3.
Uploaded patch set 1.
Patch Set 1: If the mailclient value has not been specified, ie under "Options: Internet - E-mail - E-mail program," E-mail program is empty. In that case, it opens the default email client setup in the system and a default email client's new window is opened with document as an attachment (using mailto). In case the default email client is thunderbird, the document does not get attached because thunderbird does not support attachment= in mailto urls. See the link http://mxr.mozilla.org/mozilla1.8/source/mailnews/compose/src/nsSmtpUrl.cpp#96
Patch Set 1: @Caoln McNamara: I have tried xdg-email and it seems to build a similar mailto url. So even this fails to attach the file in thunderbird just like gnome-open.
Patch Set 1: @Bjrn Michaelsen:I am not using that patch( sensible-mua.diff patch: http://anonscm.debian.org/cgit/pkg-openoffice/libreoffice.git/tree/patches/sensible-lomua.diff), since I am using a compiled version of libreoffice from git
Patch Set 1: @Stephan Bergmann: ok...let me take a look at why it does not automatically obtain a value (on GNOME, using the exact same gconf value that i am using in my patch).
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: > Thank you for the patch! :-) > > Unfortunately I don't think we should create a special class & .ui > file for the warning about the restart though; a code like > > ScopedVclPtrInstance<MessageDialog> aWarnBox(this, > CUI_RES(RID_SVXSTR_OPTIONS_RESTART), VCL_MESSAGE_INFO); > aWarnBox->Execute(); > > should be enough; can you please define the appropriate string in > desktop/source/app/desktop.hrc and desktop/source/app/desktop.src, > and then just call something similar as above in ExtensionManager::doChecksForAddExtension() > ? > > Thank you & sorry for asking you for additional work... Marking it > as -1 for the moment that means "needs tweaks" - hope it is fine > for you :-) Of course it is fine :) Thank you for your suggest. I will work on this.
Patch Set 1: > Also there is a second version of this patch at https://gerrit.libreoffice.org/#/c/21929 > - which is the current one? > Also there is a second version of this patch at https://gerrit.libreoffice.org/#/c/21929 > - which is the current one? I made mistake when I send second patch. Sorry for that. I will abandon that this the current one.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 6: Patch Set 5 was rebased
Patch Set 6: I called that function (svtools::executeRestartDialog) in ExtensionManager::fireModified() function. Then I started libreoffice, installed an extension, the restart dialog showed up once but when I clicked a button on the dialog, the dialog showed up again. And this time when I clicked the button on dialog libreoffice frozen. Maybe the place where I write function was not right. What should I do ?
Uploaded patch set 7.
Abandoned for merge conflict
Uploaded patch set 1.
Uploaded patch set 3.
Patch Set 3: I can not much working on this patch nowadays, if you want I can abandon this and work for resolve later.
Patch Set 3: I am sorry for that, it was my mistake.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Restored
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 2: I did that because of the merge conflict. When I send this patch, my other patch which I sent earlier, it was not accepted yet. So I removed that line to fix the conflict. I guess that was wrong. Then what should I do now, should I abandoned this and send the patch again or something else?
Patch Set 3: Actually I knew that way. But I think when I trying to fix merge conflict, I deleted wrong lines. I deleted the other patch's RESTART_REASON_ADDING_PATH lines. I think I had should not delete that lines related with my other patch. But I could not understand what to do in this step.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 4: Patch Set 3 was rebased
Uploaded patch set 1.
Patch Set 1: > (2 comments) > > > Hi ?rem, Your patch looks good to me. But after that enhancement > i > > think .uno:CloseMasterView button and command looks to me > reduant. > > @Katerina it looks removable to me. What do you think? > > I'm not against removing UNO commands if there's a damn good reason > for it. I'm not sure such a reason exists in this particular case. > > So pretty please, before you guys'n'gals proceed with removing, > bring that topic to the development (not design) mailing list and > see what the others think. One never knows whose extension or macro > or other mission-critical app depends on this particular UNO > command being in place > > As for the code, see inline comments. > > Some additional tweaks are needed too e.g. you want to find > .uno:SlideMasterView command definition and adapt its tooltip so > that it reflects the fact it is now a toggle. Also, you'd perhaps > need to clean up the code in respective DrawViewShell(s) that deals > with those slots ... Katarina, as I understand from your ".uno:SlideMasterView command definition and adapt its tooltip.. " sentence, I changed Toggle feature False to True in SID_SLIDE_MASTER_MODE's definition in sd/sdi/sdraw.sdi file. Is that right? And I reviewed the sd/source/ui/view/drawview.cxx file and related draw view and DrawViewShell files. But I don't understand which part of code that I should clean up. Can you give more details please if it's possible?
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Patch Set 3: Yes, I'm sorry for the long break. I will work on this.
Patch Set 3: Yes I'm still working on it.
Uploaded patch set 4.
Should I use ; ? yes, you are right. Example: it->first: SpreadsheetDocument;.uno:AlignLeft(KeyModifier) it->second: 1 or Should I div it->first obj? and use : in it->first?
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 3.
Patch Set 3: > Looks fine now, but will await some responses from the ux/design > team so we do this in one patch rather than two. :D What is your decision on this patch?
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: > What do you think file.write(&item, item.getLength(), written); > does? Have you verified that it actually does what you think? > What do you think file.write(&item, item.getLength(), written); > does? Have you verified that it actually does what you think? I tried function's parameters like on this page. http://api.libreoffice.org/docs/cpp/ref/a00090.html#aaff12dea186b6242260ae8309b6127d0 Patch compiled on Linux but I dont know how to test this patch. If you can suggest an example, I would like to try.
Patch Set 2: > (2 comments) > > Added a few code comments. > > To test set CollectUsageInformation key to 'true' using the > Tools -> Options -> Advanced -> Expert Configuration Thank you for this information. Really useful for me :) And as I understand it: - I should use GetUserConfigPath()instead of Hardcoded part. - I should add utf8 format and check number of bytes written.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5: Commit message was updated.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Uploaded patch set 6.
Patch Set 7: Patch Set 6 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Patch Set 3: (1 comment) > (1 comment) Should I use ; ? yes, you are right. Example: it->first: SpreadsheetDocument;.uno:AlignLeft(KeyModifier) it->second: 1 or Should I div it->first obj? and use : in it->first?
Uploaded patch set 4.
Patch Set 5: Patch Set 4 was rebased
Patch Set 5: > (1 comment) Yes right 2 objects and 3 elements, but objects output: Document Type,Command,Count StartModule;.uno:OptionsTreeDialog;1 TextDocument;.uno:Bold(KeyModifier);2 TextDocument;.uno:CharBackgroundExt(BackColor);1 TextDocument;.uno:Save(KeyModifier);1 TextDocument;.uno:SelectAll;1 Shall I change elements as "uno command" and "count" or something else that you suggest?
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Patch Set 3: Patch Set 2 was rebased
Patch Set 4: Patch Set 3 was rebased
Patch Set 4: > This is the fourth patch to the same bug, but it seems to be > different files. Should I change commit message?
Uploaded patch set 5.
Patch Set 6: Commit message was updated
Uploaded patch set 7.
Patch Set 8: Patch Set 7 was rebased
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 2.
Patch Set 2: Abandoned
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Patch Set 1: Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Hi, - The file contains a section break [continuous]. - In this condition, the '( SFX_ITEM_ON != pSet->GetItemState(RES_PAGEDESC, true, &pI)' turns out as false. - As far as I can understand, itmeans that the RES_PAGEDESC is set ON _ so there is a section break, but can't identify which one .. continuous OR next - Is there any flag which can indicate that this PAGEDESC is a section break [continuous] - Kindly suggest. Thanks :)
Hi, - In order to understand the behavior of the section break [continuous] I debugged a sample file with a continuous section break. - In this case this condition http://opengrok.libreoffice.org/xref/core/sw/source/filter/ww8/wrtw8nds.cxx#2742 is satisfied. - GetItemState() returns SFX_ITEM_DEFAULT - I debugged GetItemState() for the issue file, http://opengrok.libreoffice.org/xref/core/svl/source/items/itemset.cxx#467 the condition fails. - For the issue file, it seems that it is able to find some object in 'ppFnd' and thus it does not returns SFX_ITEM_DEFAULT - Please can you give me some hint here ? - Thanks :)
Hi Miklos, I have mentioned the relevant comments for this impacted UT in the commit message as well. Kindly have a look. Thanks.
Have removed the comment from the test case and updated the patch with latest master. Kindly have a look. Thanks :)
Ok Sure :)
Hi, - I agree that the spacing and framePr attributes are different.I have tried to convey the same during our IRC discussions :) - Currently <w:framePr> is getting exported in place of <w:spacing>, so I can't check for <w:spacing after> in the UT - Thus I was seeking your opinion if we can take this as a separate issue and re-solve it. - It would be great if you let me know that we need to resolve the above issue now or we can take it separately. - Thanks for your opinion :)
Based on our previous IRC discussion: - After this fix, in paragraph properties, <w:framePr> is getting exported in place of <w:spacing> - As suggested by you now I am asserting the vSpace attribute of <w:framePr> - Also as per our mutual discussion, it was decided that this issue for <w:framePr> exported in place of <w:spacing> needs to be dealt separately. IRC reference : /---------------------------------------------------/ [1] <vmiklos> Rajashri: that's fine, but then check exactly what attribute of XML_framePr is equivalent to XML_spacing and assert that. [2] <vmiklos> Rajashri: the w:vSpace="..." attribute can be used to declare vertical space around the frame, inside the w:framePr element [3] <Rajashri> vmiklos : Thanks. I will assert "w:vSpace" in the UT. But what I have observed is that there is a visual disparity which is getting introduced for the floating tables. So can I push my current change and solve the visual disparity issue separately. Please let me know your opinion on the same. Thanks. [4] <vmiklos> Rajashri: sounds like a plan, yes (it's fine to split problems into multiple commits, just make sure that a partial change doesn't break the build) /---------------------------------------------------/ Kindly let me know if this needs to be discussed further. Thanks a lot in advance.
Hi, Thanks for the review comments. I have made the necessary changes and new patch is available. I could not understand one point:- "Probably "PAGEREF " is not valid." It would be great if you could elaborate it. Thanks :)
Uploaded patch set 1.
Patch Set 1: (1 comment)
Patch Set 1: (1 comment)
Patch Set 1: Hi Miklos, Please can you guide me with the above question. Thanks :)
Patch Set 1: Hi Miklos, Apologies for the late reply. I am currently not working on this issue. Thanks.
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 2: (1 comment)
Patch Set 2: (1 comment)
Patch Set 2: (1 comment)
Patch Set 2: (1 comment)
Uploaded patch set 3.
Patch Set 2: (1 comment)
Uploaded patch set 4.
Patch Set 4: Hi Miklos, - In docxsdrexport.cxx : writeOnlyTextOfFrame(); mpParentFrame was not set to NULL due to which the <w:framePr> was getting exported in place of <w:spacing> - I have updated the code and UT [ooxmlsdrexport.cxx : testTableFloatingMargins()] - I have tested the build on latest master. - Kindly have a look. Thanks :)
Uploaded patch set 5.
Patch Set 5: Hi Miklos, As per our xChat discussion, a separate issue will be logged for the visual disparity which is highlighted during this fix. /------------------------------------------------------------------------xChat discussion------------------------------------------------------------------------------------------------------------/ <Rajashri> vmiklos : Hi, This is regarding https://gerrit.libreoffice.org/#/c/9914/ Thanks for the review :). I checked xml difference between => RT file on master & RT file on my patch. I have one observation here : the sequence of writing the text and the table is not changed. Kindly have a look at the screen shot : http://wikisend.com/download/593286/XML_Diff.png . To my understanding there is no technical difference in the xml, though there is a visual disparity. This doesn't seem to be caused by this fix. I had a suggestion, if we can deal the issue for corruption in this patch and the visual disparity issue dedicatedly. Thanks a lot to share your opinion on the same :) <vmiklos> Rajashri: if you want to do that in a separate commit, fine. but then please comment on https://gerrit.libreoffice.org/#/c/9914/ what is the URL of the second change, so they can be merged together. obviously if a review is requrested, the last thing we want is to approve it when it is known that it introduces a regression. <Rajashri> vmiklos : ok. I will put the comments on the link. I will also update the master and upload it[as it has been long time that it is not rebased with master]. Thanks :) /------------------------------------------------------------------------xChat discussion------------------------------------------------------------------------------------------------------------/ I have re-based and build the patch with latest master.Kindly have a look. Thanks :)
Patch Set 5: Hi Miklos, - I have been looking into the issue for visual disparity. - In order to understand the root cause of the visual disparity, studied what is missing/added to the XML which is leading to the visual disparity. - Compared the round trip file on master with the original file. - It is observed that the round trip file on master and the original file is not the same. The order of exporting the text and the table is different even on master. - Next, compared the round trip file on my fix and the round trip file on master. - The sequence of writing the text and the table is same in these round trip files[master RT and fix RT]. - Thus there is no regression added due to this fix. - Next, studied the styles.xml [master round trip vs fix round trip], it is observed that there is absolutely no difference. - Request you to have look on the screen shot --- http://wikisend.com/download/730630/OriginalMasterFix.png - I discussed with the DEV team here, as per our understanding, we can go ahead to with this patch as there is no technical difference between master and the Fix RT. - There is no critical issue like data loss and the main issue is with the corruption which has been resolved. - Let me know If I can re-base the patch with latest master and we can go ahead to merge this issue to master. Thanks :)
Uploaded patch set 1.
Uploaded patch set 2.
Patch Set 1: Hi, Thanks for your review comments. As per our xChat discussion, I have taken care for the second comment. I have added the relevant comment in the commit message. I purposely kept the comment in the code as well. Please let me know if it is fine with you.Thanks:)
Uploaded patch set 3.
Patch Set 4: Thanks a lot for the review and suggestions :) I will take care of the points you mentioned in future and also about the user name. Thanks.
Uploaded patch set 1.
Patch Set 2: Thanks for the review :)
Uploaded patch set 1.
Patch Set 1: Hi, Thanks for the review comments. I build the core with --enable-dbgutil and the error occurred. Exceptions are observed for the table properties @ Import: Example: warn:sw.uno:29229:1:sw/source/core/unocore/unotext.cxx:2270: Exception when setting property: HorizontalBorder. Message: warn:sw.uno:29229:1:sw/source/core/unocore/unotext.cxx:2270: Exception when setting property: VerticalBorder. Message: In DomainMapperTableHandler.cxx, while setting these table properties it is throuwing exception. Exact point where exception is reported: http://opengrok.libreoffice.org/xref/core/sw/source/core/unocore/unotbl.cxx#3080 Since 'pEntry' is empty, the exception is thrown. These table properties[for which exception is thrown] are being mapped in unomap.cxx As a workaround I removed my fix and UT. The issue is reported as above without my fix. Kindly suggest.Thanks.
Patch Set 1: Hi Miklos, Adding some more information: I have tested the code in two different ways: [1] With my patch [2] without my patch In both the cases the LO crashed. Reason for crash: Unable to set table properties. Kindly let me know in case I am not clear or you need any more information. Thanks. Patch Set 1: Hi, Thanks for the review comments. I build the core with --enable-dbgutil and the error occurred. Exceptions are observed for the table properties @ Import: Example: warn:sw.uno:29229:1:sw/source/core/unocore/unotext.cxx:2270: Exception when setting property: HorizontalBorder. Message: warn:sw.uno:29229:1:sw/source/core/unocore/unotext.cxx:2270: Exception when setting property: VerticalBorder. Message: In DomainMapperTableHandler.cxx, while setting these table properties it is throuwing exception. Exact point where exception is reported: http://opengrok.libreoffice.org/xref/core/sw/source/core/unocore/unotbl.cxx#3080 Since 'pEntry' is empty, the exception is thrown. These table properties[for which exception is thrown] are being mapped in unomap.cxx As a workaround I removed my fix and UT. The issue is reported as above without my fix. Kindly suggest.Thanks.
Patch Set 1: Hi Miklos, Today morning I checked on the latest build.On my side no UT is failing. There is only the error related to the DBGUTIL.
Uploaded patch set 2.
Patch Set 1: Hi Miklos, I have re-based the code to the latest master and did a core build. No UT failure was found at my end. Kindly have a look once. Let me know in case any information needed from my end or if I missed any point. Thanks.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Hi Miklos, I have verfied on '3ff5af221e76d3efead192d6598f94da797f4028' before delivring. That fix was not working for this file.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 2: (1 comment)
Abandoned New patch link created: https://gerrit.libreoffice.org/#/c/7605/ Please refer to this link. Thanks.
Uploaded patch set 2.
Uploaded patch set 4.
Uploaded patch set 6.
Patch Set 3: For LIB-87 - Charts - After round trip area chart with data labels is giving error while opening in MS word. - chart2export.cxx id updated under "https://gerrit.libreoffice.org/#/c/7000/4" - Code changes for chartexport.cxx are incorporated under "https://gerrit.libreoffice.org/#/c/7000/3" Kindly make a note of this.Thanks.
Uploaded patch set 1.
Patch Set 1: This patch could have been the following one liner - ResetAutoSpell(); But that would recompute miss-spell-ranges for all cells again. In this patch the misspell ranges of new cells are obtained from the corresponding source cells which have already being spell checked. This way there is no need to invoke the spell checker.
Uploaded patch set 2.
Uploaded patch set 3.
Patch Set 3: @Eike, I have handled the ctrl+D case and moved all my code to where FID_* is executed. Instead of using mpSpellCheckCxt->setMisspellRanges(), ScGridWindow::SetAutoSpellData is used now as it skips cells out of the visible range.
Patch Set 3: Can someone please review the latest patch. It's been a month since the build on Patch 3 finished.
Uploaded patch set 4.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 1: Kohei, I will rebase. Should I take out the "Repeat all item labels" checkbox in pivot table creation dialog ? It seems there is an option in excel to set the "Repeat Item labels" for all fields at the same time too. I think I can add individual check boxes for each field in the pivot table header dropdown menu.
Uploaded patch set 2.
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 4.
Patch Set 4: Hi Kohei, I have taken out the table level checkbox for repeat all item labels and added a toggle menu entry in each field's dropdown menu.
Uploaded patch set 5.
Patch Set 5: Kohei, I have made the necessary changes to make it a per field option. Added "Repeat item labels" checkbox and supporting code by following the code for already existing checkbox "Empty line after each item" under "Display Options" in the "Data Field Options" dialog.
Patch Set 5: Sorry, I did not know. I will submit a patch without changing the API.
Uploaded patch set 6.
Uploaded patch set 7.
Patch Set 7: Thanks for the review and help. I have made the necessary changes as per your advice. I used the namespace "XML_NAMESPACE_CALC_EXT" while exporting and importing the boolean data.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 3.
Uploaded patch set 4.
Uploaded patch set 5.
Patch Set 1: Code-Review+1 Thanks for fixing. Looks good to me.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 3: Patch Set 2 was rebased
Uploaded patch set 5.
Patch Set 6: Patch Set 5 was rebased
Uploaded patch set 8.
Uploaded patch set 9.
Uploaded patch set 10.
Uploaded patch set 11.
Patch Set 12: Patch Set 11 was rebased
Uploaded patch set 21.
Uploaded patch set 1.
Uploaded patch set 3.
Patch Set 4: Patch Set 3 was rebased
Uploaded patch set 5.
Uploaded patch set 1.
Patch Set 2: Patch Set 1 was rebased
Patch Set 5: Patch Set 2 was rebased
Uploaded patch set 1.
Abandoned Another patch submitted
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 2: Commit message was updated.
Uploaded patch set 1.
Abandoned
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: I've tried #include <cstdlib> and std::abs. It did not fix the build error.
Patch Set 1: it's not just my setup. try this code: #include <iostream> #include <cstdlib> #include <cmath> // including <cmath> here to prove a point.. #include <type_traits> int main() { signed short i{}; std::cout << std::is_same<decltype(std::abs(0)),double>{} << "\n"; std::cout << std::is_same<decltype(std::abs(0)),int>{} << "\n"; std::cout << std::is_same<decltype(std::abs(i)),int>{} << "\n"; return 0; }
Abandoned caolanm made a nicer patch replacing sal_Int16 by int in these functions
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Uploaded patch set 1.
Uploaded patch set 2: Patch Set 1 was rebased.
Uploaded patch set 1.
Patch Set 1: This patch was taken directly from http://git.savannah.gnu.org/cgit/autoconf-archive.git/tree/m4/ax_boost_system.m4 I don't believe CXXFLAGS_SAVE is needed, but I didn't want to modify it further.
Patch Set 1: Ignore the CXXFLAGS_SAVE comment, I was looking at the old version by mistake :-)
Uploaded patch set 1.
Uploaded patch set 1.
Patch Set 1: GCC uses the same masks, see here: https://gcc.gnu.org/onlinedocs/libstdc++/libstdc++-api-4.5/a00845_source.html
Patch Set 2: Commit message was updated
Patch Set 1: Code-Review+2 Verified+1 Tested on my build and it works. Also a safer way for 4-2 as it doesn't affect other parts of the code.
Change has been successfully cherry-picked as f1227707e3c17ead24f00f5c2274a155c5926152
Patch Set 2: This seems to break a macosx tinderbox though I have no idea why ... The log is available here, maybe you can verify if everything is ok? http://tinderbox.libreoffice.org/cgi-bin/gunzip.cgi?tree=libreoffice-4-2&brief-log=1388823001.9786
Uploaded patch set 2.
Change has been successfully pushed.
Patch Set 1: Abandoned
Patch Set 1: Abandoned

